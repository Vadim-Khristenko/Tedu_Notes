---
title: "–ü–∞—Ä–∞–ª–ª–µ–ª—å B<br>–î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ 2–∞—è —á–∞—Å—Ç—å."
timestamp: 2025-11-01T18:45:00+03:00
last_updated_timestamp: 2025-11-01T19:35:00+03:00
series: "T-–û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ"
tags:
  - Tbank
  - Tgeneration
  - DynamicProgramming
  - DP
  - AdvancedDP
  - DigitDP
  - SubsetDP
  - ProfileDP
description: >-
  –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ —Ç–µ—Ö–Ω–∏–∫–∏ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è: DP –ø–æ —Ü–∏—Ñ—Ä–∞–º (–ø–æ–∏—Å–∫ —á–∏—Å–µ–ª —Å —Å–≤–æ–π—Å—Ç–≤–∞–º–∏),
  DP –ø–æ –ø–æ–¥–º–Ω–æ–∂–µ—Å—Ç–≤–∞–º (Bitmask DP), –∏ DP –ø–æ –ø—Ä–æ—Ñ–∏–ª—é (–¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä). 
  –û—Ç —Ç–µ–æ—Ä–∏–∏ –∫ –ø—Ä–∞–∫—Ç–∏–∫–µ —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è–º–∏.
---

<h2>–¢–µ–º–∞ –∫–æ–Ω—Å–ø–µ–∫—Ç–∞: –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ DP ‚Äî –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π —É—Ä–æ–≤–µ–Ω—å</h2>

> **–ì–ª–∞–≤–Ω—ã–π –∞–≤—Ç–æ—Ä:** –í–∞–¥–∏–º –•—Ä–∏—Å—Ç–µ–Ω–∫–æ  
> **–û—Å–Ω–æ–≤–∞–Ω–æ –Ω–∞:** 191025.md (–∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–µ DP —Ç–µ—Ö–Ω–∏–∫–∏)  
> **–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2025-11-01  
> **–°—Å—ã–ª–∫–∞ –Ω–∞ –æ–±—Å—É–∂–¥–µ–Ω–∏–µ:** https://github.com/Vadim-Khristenko/Tedu_Notes/discussions/2
> _–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π:_ –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –∫—É—Ä—Å –¥–ª—è —Ç–µ—Ö, –∫—Ç–æ –æ—Å–≤–æ–∏–ª –±–∞–∑–æ–≤—ã–µ DP –∏ –≥–æ—Ç–æ–≤ –∫ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º —Ç–µ—Ö–Ω–∏–∫–∞–º. –ó–¥–µ—Å—å –≤—ã –Ω–∞–π–¥—ë—Ç–µ DP –ø–æ —Ü–∏—Ñ—Ä–∞–º (–ø–æ–∏—Å–∫ —á–∏—Å–µ–ª), DP –ø–æ –ø–æ–¥–º–Ω–æ–∂–µ—Å—Ç–≤–∞–º (–º–∞—Å–∫–∏), –∏ DP –ø–æ –ø—Ä–æ—Ñ–∏–ª—é.  
> _–¢–µ–≥–∏:_ DP, DigitDP, Bitmask, SubsetDP, ProfileDP, AdvancedTechniques

---

# –í–≤–µ–¥–µ–Ω–∏–µ: —á—Ç–æ –¥–∞–ª—å—à–µ –ø–æ—Å–ª–µ –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏—Ö DP? {id: "introduction"}

–í—ã —É–∂–µ –∑–Ω–∞–µ—Ç–µ:
- ‚úÖ –ù–û–ü, –ù–í–ü, —Ä—é–∫–∑–∞–∫
- ‚úÖ DP –Ω–∞ –¥–µ—Ä–µ–≤—å—è—Ö
- ‚úÖ Memoization –∏ —Ç–∞–±—É–ª—è—Ü–∏—é
- ‚úÖ –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–µ—à–µ–Ω–∏–π

–¢–µ–ø–µ—Ä—å –ø–µ—Ä–µ—Ö–æ–¥–∏–º –∫ **—Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º —Ç–µ—Ö–Ω–∏–∫–∞–º**, –∫–æ—Ç–æ—Ä—ã–µ —Ä–µ—à–∞—é—Ç –∑–∞–¥–∞—á–∏, —Ç—Ä–µ–±—É—é—â–∏–µ –æ—Å–æ–±–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞:

```mermaid
graph TD
    A["–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–µ DP<br/>–ù–û–ü, –ù–í–ü, —Ä—é–∫–∑–∞–∫"] --> B["üöÄ –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ DP"]
    
    B --> C["1Ô∏è‚É£ DP –ø–æ —Ü–∏—Ñ—Ä–∞–º<br/>–ß–∏—Å–ª–∞ —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏"]
    B --> D["2Ô∏è‚É£ DP –ø–æ –ø–æ–¥–º–Ω–æ–∂–µ—Å—Ç–≤–∞–º<br/>Bitmask DP"]
    B --> E["3Ô∏è‚É£ DP –ø–æ –ø—Ä–æ—Ñ–∏–ª—é<br/>–°–ª–æ–∂–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã"]
    
    C --> F["–ü—Ä–∏–º–µ—Ä—ã:<br/>–°—á—ë—Ç —á–∏—Å–µ–ª ‚â§ N<br/>—Å —É—Å–ª–æ–≤–∏—è–º–∏"]
    D --> G["–ü—Ä–∏–º–µ—Ä—ã:<br/>–ö–æ–º–º–∏–≤–æ—è–∂–µ—Ä<br/>–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ"]
    E --> H["–ü—Ä–∏–º–µ—Ä—ã:<br/>–ú–æ—â–µ–Ω–∏–µ<br/>–†–∞—Å–∫—Ä–∞—Å–∫–∏"]
    
    style A fill:cyan
    style B fill:blue
    style C fill:lime
    style D fill:lime
    style E fill:lime
    style F fill:yellow
    style G fill:yellow
    style H fill:yellow
```

> üí° **–ö–ª—é—á–µ–≤–∞—è –∏–¥–µ—è:** –í—Å–µ —Ç—Ä–∏ —Ç–µ—Ö–Ω–∏–∫–∏ –æ–ø–∏—Ä–∞—é—Ç—Å—è –Ω–∞ –æ–¥–Ω–æ ‚Äî –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è DP. –ú–∞—Å—Ç–µ—Ä—Å—Ç–≤–æ –ø—Ä–∏—Ö–æ–¥–∏—Ç —Å –ø–æ–Ω–∏–º–∞–Ω–∏–µ–º —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∑–∞–¥–∞—á–∏.

---

## –ö–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –∫–æ–Ω—Å–ø–µ–∫—Ç–æ–º (–¥—Ä—É–∂–µ–ª—é–±–Ω—ã–π —Ä–µ–∂–∏–º) {id: "how-to-use"}

- –ï—Å–ª–∏ –≤—ã –≤–ø–µ—Ä–≤—ã–µ –≤–∏–¥–∏—Ç–µ —Ç–µ—Ö–Ω–∏–∫—É ‚Äî –Ω–∞—á–Ω–∏—Ç–µ —Å —Ä–∞–∑–¥–µ–ª–∞ ¬´–ò–¥–µ—è¬ª –∏ ¬´–®–∞–±–ª–æ–Ω¬ª. –ó–∞—Ç–µ–º —Å—Ä–∞–∑—É –ø—Ä–æ—á–∏—Ç–∞–π—Ç–µ ¬´–¢–∏–ø–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏¬ª ‚Äî —ç—Ç–æ —ç–∫–æ–Ω–æ–º–∏—Ç —á–∞—Å—ã.
- –ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –∑–∞–¥–∞—á–∞ –∏ –≤—ã —Å–æ–º–Ω–µ–≤–∞–µ—Ç–µ—Å—å, —á—Ç–æ –≤—ã–±—Ä–∞—Ç—å ‚Äî –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±—ã—Å—Ç—Ä—ã–π ¬´–ù–∞–≤–∏–≥–∞—Ç–æ—Ä –≤—ã–±–æ—Ä–∞ —Ç–µ—Ö–Ω–∏–∫–∏¬ª –Ω–∏–∂–µ.
- –ï—Å–ª–∏ –≤—ã –∑–∞–±—ã–ª–∏ –¥–µ—Ç–∞–ª–∏ ‚Äî —Å–º–æ—Ç—Ä–∏—Ç–µ ¬´–®–ø–∞—Ä–≥–∞–ª–∫–∏¬ª –∏ ¬´–ß–µ–∫-–ª–∏—Å—Ç—ã¬ª –≤ –∫–æ–Ω—Ü–µ —Ä–∞–∑–¥–µ–ª–æ–≤.

```mermaid
graph TD
    A[–£ –º–µ–Ω—è –∑–∞–¥–∞—á–∞] --> B{–ß—Ç–æ –ø—Ä–æ—Å–∏—Ç –∑–∞–¥–∞—á–∞?}
    B -->|–ü–æ—Å—á–∏—Ç–∞—Ç—å —á–∏—Å–ª–∞ ‚â§ N —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏| C[Digit DP]
    B -->|–í—ã–±—Ä–∞—Ç—å/–ø–µ—Ä–µ–±–∏—Ä–∞—Ç—å –ø–æ–¥–º–Ω–æ–∂–µ—Å—Ç–≤–∞| D[Bitmask DP]
    B -->|–ö–ª–µ—Ç–æ—á–Ω–æ–µ –ø–æ–ª–µ, –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø–æ —Å–æ—Å–µ–¥—è–º| E[Profile DP]
    B -->|–°–ª–æ–∂–Ω—ã–π –º–∏–∫—Å| F[–ì–∏–±—Ä–∏–¥]

    C --> C1[–®–∞–±–ª–æ–Ω: pos, tight, started, –º–æ–¥—ã]
    D --> D1["–®–∞–±–ª–æ–Ω: dp[mask][i]"]
    E --> E1["–®–∞–±–ª–æ–Ω: dp[col][profile]"]
    F --> F1[–ö–æ–º–±–∏–Ω–∏—Ä—É–µ–º 2 —Ç–µ—Ö–Ω–∏–∫–∏]

    style C fill:lime
    style D fill:lime
    style E fill:lime
    style F fill:orange
```

### –õ–µ–≥–µ–Ω–¥–∞ —Ü–≤–µ—Ç–æ–≤ –≤ –¥–∏–∞–≥—Ä–∞–º–º–∞—Ö {id: "color-legend"}

- **–ª–∞–π–º–æ–≤—ã–π** ‚Äî –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –∏ –∂–µ–ª–∞—Ç–µ–ª—å–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è/–æ—Ç–≤–µ—Ç—ã
- **–æ—Ä–∞–Ω–∂–µ–≤—ã–π** ‚Äî –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ –∏–ª–∏ —Ç—Ä–µ–±—É—é—â–∏–µ –≤–Ω–∏–º–∞–Ω–∏—è
- **–∫—Ä–∞—Å–Ω—ã–π** ‚Äî –æ—à–∏–±–∫–∏/–∞–Ω—Ç–∏-–ø–∞—Ç—Ç–µ—Ä–Ω—ã
- **–±–∏—Ä—é–∑–æ–≤—ã–π/—Å–∏–Ω–∏–π** ‚Äî –ø—Ä–æ—Ü–µ—Å—Å, –º–∞—Ä—à—Ä—É—Ç –≤—ã—á–∏—Å–ª–µ–Ω–∏–π
- **–∂—ë–ª—Ç—ã–π** ‚Äî –ø—Ä–∏–º–µ—Ä—ã/—Ñ–∞–∫—Ç—ã

---

# –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ {id: "contents"}

1. [–í–≤–µ–¥–µ–Ω–∏–µ: —á—Ç–æ –¥–∞–ª—å—à–µ?](#advanced-intro)
    - –ö–æ–≥–¥–∞ –Ω—É–∂–Ω—ã —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ DP?
    - [–ö–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –∫–æ–Ω—Å–ø–µ–∫—Ç–æ–º](#how-to-use)
    - [–õ–µ–≥–µ–Ω–¥–∞ —Ü–≤–µ—Ç–æ–≤](#color-legend)

2. [DP –ø–æ —Ü–∏—Ñ—Ä–∞–º (Digit DP)](#digit-dp)
    - –û–±—â–∞—è –∏–¥–µ—è –∏ —Ä–µ–∫—É—Ä—Ä–µ–Ω—Ç–Ω–æ–µ —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ
    - –ü—Ä–∏–º–µ—Ä 1: –°—á—ë—Ç —á–∏—Å–µ–ª ‚â§ N —Å —É—Å–ª–æ–≤–∏—è–º–∏
    - –ü—Ä–∏–º–µ—Ä 2: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —á–∏—Å–µ–ª, –≥–¥–µ —Å—É–º–º–∞ —Ü–∏—Ñ—Ä –¥–µ–ª–∏—Ç—Å—è –Ω–∞ K
    - –ü—Ä–∏–º–µ—Ä 3: –ü–æ–∏—Å–∫ –∫—Ä–∞—Å–∏–≤—ã—Ö —á–∏—Å–µ–ª
    - [–õ–∏–¥–∏—Ä—É—é—â–∏–µ –Ω—É–ª–∏ –∏ —Ñ–ª–∞–≥ started](#digit-leading-zeros)
    - [–ü—Ä–∏–º–µ—Ä 4: –ë–µ–∑ –ø–æ–¥—Ä—è–¥ –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö —Ü–∏—Ñ—Ä](#digit-no-adj-equal)
    - –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∏ —Ç—Ä—é–∫–∏
    - –¢–∏–ø–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏

3. [DP –ø–æ –ø–æ–¥–º–Ω–æ–∂–µ—Å—Ç–≤–∞–º (Bitmask DP)](#bitmask-dp)
    - –û—Å–Ω–æ–≤—ã –±–∏—Ç–æ–≤—ã—Ö –º–∞—Å–æ–∫
    - –†–µ–∫—É—Ä—Ä–µ–Ω—Ç–Ω–æ–µ —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ
    - –ü—Ä–∏–º–µ—Ä 1: –ó–∞–¥–∞—á–∞ –∫–æ–º–º–∏–≤–æ—è–∂–µ—Ä–∞ (TSP)
    - –ü—Ä–∏–º–µ—Ä 2: –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –∑–∞–¥–∞—á –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ
    - –ü—Ä–∏–º–µ—Ä 3: –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ–µ –º–Ω–æ–∂–µ—Å—Ç–≤–æ
    - Optimizations: Subset enumeration trick
    - [–ë—ã—Å—Ç—Ä—ã–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è: SOS DP](#sos-dp)
    - –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

4. [DP –ø–æ –ø—Ä–æ—Ñ–∏–ª—é (Profile DP)](#profile-dp)
    - –ö–æ–Ω—Ü–µ–ø—Ü–∏—è –ø—Ä–æ—Ñ–∏–ª—è
    - –ü—Ä–∏–º–µ—Ä 1: –ú–æ—â–µ–Ω–∏–µ –¥–æ—Å–∫–∏ –ø–ª–∏—Ç–∫–∞–º–∏
    - [–ü—Ä–∏–º–µ—Ä 2: –ù–µ–∑–∞–≤–∏—Å–∏–º—ã–µ –º–Ω–æ–∂–µ—Å—Ç–≤–∞ 2√óN](#profile-indep-sets)
    - [–ü—Ä–∏–º–µ—Ä 3: –†–∞—Å–∫—Ä–∞—Å–∫–∏ 2√óN –≤ 2 —Ü–≤–µ—Ç–∞](#profile-coloring)
    - –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
    - –°–ª–æ–∂–Ω—ã–µ —Å–ª—É—á–∞–∏

5. [–ì–∏–±—Ä–∏–¥–Ω—ã–µ DP](#hybrid-dp)
    - –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ—Ö–Ω–∏–∫
    - –ö–æ–≥–¥–∞ –∏ –∑–∞—á–µ–º –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞—Ç—å?
    - –ü—Ä–∏–º–µ—Ä—ã –≥–∏–±—Ä–∏–¥–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏–π

6. [–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Å–æ–≤–µ—Ç—ã –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏](#practical-tips)
    - –ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ DP
    - –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø–∞–º—è—Ç–∏
    - –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –≤—Ä–µ–º–µ–Ω–∏
    - –û—Ç–ª–∞–¥–∫–∞ —Å–ª–æ–∂–Ω—ã—Ö DP
    - [–ß–µ–∫-–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ —Å–¥–∞—á–µ–π](#pre-submit-checklist)

7. [FAQ](#faq)

8. [–õ–µ—Å—Ç–Ω–∏—Ü–∞ –ø—Ä–∞–∫—Ç–∏–∫–∏](#practice-ladder)

9. [–ó–∞–∫–ª—é—á–µ–Ω–∏–µ –∏ –¥–∞–ª—å–Ω–µ–π—à–∏–π –ø—É—Ç—å](#conclusion)

---

# DP –ø–æ —Ü–∏—Ñ—Ä–∞–º (Digit DP) {id: "digit-dp"}

## –û–±—â–∞—è –∏–¥–µ—è {#digit-dp-intro}

**Digit DP** –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø–æ–¥—Å—á—ë—Ç–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —á–∏—Å–µ–ª –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ $[L, R]$, —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä—è—é—â–∏—Ö –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–º—É —É—Å–ª–æ–≤–∏—é.

**–ö–ª—é—á–µ–≤–∞—è –∏–¥–µ—è:** –≤–º–µ—Å—Ç–æ –ø–µ—Ä–µ–±–æ—Ä–∞ –≤—Å–µ—Ö —á–∏—Å–µ–ª —Å—Ç—Ä–æ–∏–º –∏—Ö –ø–æ—Ü–∏—Ñ—Ä–æ–≤–æ, –∏—Å–ø–æ–ª—å–∑—É—è DP.

### –†–µ–∫—É—Ä—Ä–µ–Ω—Ç–Ω–æ–µ —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ {#digit-dp-recurrence}

–û–ø—Ä–µ–¥–µ–ª–∏–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ:
- `pos` ‚Äî —Ç–µ–∫—É—â–∞—è –ø–æ–∑–∏—Ü–∏—è —Ü–∏—Ñ—Ä—ã (—Å—Ç–∞—Ä—à–∏–π —Ä–∞–∑—Ä—è–¥ = 0)
- `tight` ‚Äî —Ñ–ª–∞–≥, —É–∫–∞–∑—ã–≤–∞–µ—Ç –ª–∏, —á—Ç–æ —á–∏—Å–ª–æ –≤—Å—ë –µ—â—ë "–ø—Ä–∏–∂–∞—Ç–æ" –∫ –≤–µ—Ä—Ö–Ω–µ–π –≥—Ä–∞–Ω–∏—Ü–µ
  - `tight == 1`: –º—ã –µ—â–µ –Ω–µ "–≤—ã–±–∏–ª–∏—Å—å" –∏–∑ –≥—Ä–∞–Ω–∏—Ü—ã N, –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Ü–∏—Ñ—Ä–∞ –Ω–∞ –ø–æ–∑–∏—Ü–∏–∏ `pos` = `N[pos]`
  - `tight == 0`: –º—ã —É–∂–µ "–≤—ã–±–∏–ª–∏—Å—å" –Ω–∏–∂–µ (–ø–æ—Å—Ç–∞–≤–∏–ª–∏ —Ü–∏—Ñ—Ä—É –º–µ–Ω—å—à–µ N), —Ç–µ–ø–µ—Ä—å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Ü–∏—Ñ—Ä–∞ = 9
- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —É—Å–ª–æ–≤–∏—è (—Å—É–º–º–∞ —Ü–∏—Ñ—Ä, –æ—Å—Ç–∞—Ç–æ–∫ –æ—Ç –¥–µ–ª–µ–Ω–∏—è –∏ —Ç.–¥.)

**–ò–Ω—Ç—É–∏—Ü–∏—è tight —Ñ–ª–∞–≥–∞:**
```
–ü—Ä–∏–º–µ—Ä: N = 235, —Å—á–∏—Ç–∞–µ–º —á–∏—Å–ª–∞ ‚â§ 235
- –ü–æ–∑–∏—Ü–∏—è 0: –º–æ–∂–µ–º –ø–æ—Å—Ç–∞–≤–∏—Ç—å 0,1,2
  - –ï—Å–ª–∏ –ø–æ—Å—Ç–∞–≤–∏–º 2 ‚Üí tight=1 (–≤—Å—ë –µ—â—ë –ø—Ä–∏–≤—è–∑–∞–Ω—ã –∫ –≥—Ä–∞–Ω–∏—Ü–µ)
  - –ï—Å–ª–∏ –ø–æ—Å—Ç–∞–≤–∏–º 0 –∏–ª–∏ 1 ‚Üí tight=0 (—É–∂–µ –Ω–∏–∂–µ, –¥–∞–ª—å—à–µ –º–æ–∂–µ–º 0-9)
- –ü–æ–∑–∏—Ü–∏—è 1 (–µ—Å–ª–∏ tight=1, —Ç–æ –µ—Å—Ç—å –ø–µ—Ä–≤–∞—è —Ü–∏—Ñ—Ä–∞=2):
  - –ú–æ–∂–µ–º –ø–æ—Å—Ç–∞–≤–∏—Ç—å 0,1,2,3 (–º–∞–∫—Å–∏–º—É–º 3 –∏–∑ N)
  - –ï—Å–ª–∏ –ø–æ—Å—Ç–∞–≤–∏–º 3 ‚Üí tight=1 (–ø—Ä–æ–¥–æ–ª–∂–∞–µ–º –±—ã—Ç—å —É –≥—Ä–∞–Ω–∏—Ü—ã)
  - –ï—Å–ª–∏ –º–µ–Ω—å—à–µ 3 ‚Üí tight=0
- –ï—Å–ª–∏ tight=0 —Å –Ω–∞—á–∞–ª–∞, —Ç–æ –ø–æ–∑–∏—Ü–∏—è 1: –º–æ–∂–µ–º 0-9
```

```just-ncv
func digit_dp(pos, tight, other_states):
    # –ë–∞–∑–æ–≤—ã–π —Å–ª—É—á–∞–π: —Ä–∞—Å—Å—á–∏—Ç–∞–ª–∏ –≤—Å–µ —Ü–∏—Ñ—Ä—ã
    if pos == number_of_digits:
        return check_condition(other_states)  # 1 –µ—Å–ª–∏ —É—Å–ª–æ–≤–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ, 0 –∏–Ω–∞—á–µ
    
    # –ü—Ä–æ–≤–µ—Ä—è–µ–º memo
    if dp[pos][tight][other_states] != -1:
        return dp[pos][tight][other_states]
    
    # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Ü–∏—Ñ—Ä–∞ –Ω–∞ —ç—Ç–æ–π –ø–æ–∑–∏—Ü–∏–∏
    max_digit = 9
    if tight == 1:
        max_digit = digit_of_limit[pos]
    
    result = 0
    for digit in 0..max_digit:
        new_tight = tight and (digit == digit_of_limit[pos])
        new_states = update_states(other_states, digit)
        result += digit_dp(pos + 1, new_tight, new_states)
    
    dp[pos][tight][other_states] = result
    return result
```

### –ü—Ä–∏–º–µ—Ä 1: –°—á—ë—Ç —á–∏—Å–µ–ª ‚â§ N {id: "digit-count-numbers"}

**–ó–∞–¥–∞—á–∞:** –Ω–∞–π—Ç–∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —á–∏—Å–µ–ª –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ $[0, N]$, –≥–¥–µ —Å—É–º–º–∞ —Ü–∏—Ñ—Ä –¥–µ–ª–∏—Ç—Å—è –Ω–∞ K.

**–°–æ—Å—Ç–æ—è–Ω–∏–µ DP:**
- `dp[pos][tight][sum_mod]` = –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–ø–æ—Å–æ–±–æ–≤ –∑–∞–ø–æ–ª–Ω–∏—Ç—å –æ—Å—Ç–∞–≤—à–∏–µ—Å—è —Ü–∏—Ñ—Ä—ã

**–†–µ—à–µ–Ω–∏–µ:**

```just-ncv
func count_numbers_with_digit_sum(N: int64, K: int32) -> int64:
    digits = extract_digits(N)  # –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º N –≤ –º–∞—Å—Å–∏–≤ —Ü–∏—Ñ—Ä
    n = len(digits)
    
    # dp[–ø–æ–∑–∏—Ü–∏—è][tight][–æ—Å—Ç–∞—Ç–æ–∫ —Å—É–º–º—ã –ø–æ –º–æ–¥—É–ª—é K]
    dp = –º–∞—Å—Å–∏–≤ (n) √ó (2) √ó (K) –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω -1
    
    func solve(pos: int32, tight: int32, sum_mod: int32) -> int64:
        # –ë–∞–∑–æ–≤—ã–π —Å–ª—É—á–∞–π: –≤—Å–µ —Ü–∏—Ñ—Ä—ã –æ–±—Ä–∞–±–æ—Ç–∞–Ω—ã
        if pos == n:
            return 1 if sum_mod == 0 else 0
        
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫—ç—à
        if dp[pos][tight][sum_mod] != -1:
            return dp[pos][tight][sum_mod]
        
        # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Ü–∏—Ñ—Ä–∞ –Ω–∞ —ç—Ç–æ–π –ø–æ–∑–∏—Ü–∏–∏
        max_digit = 9
        if tight == 1:
            max_digit = digits[pos]
        
        result = 0
        for digit in 0..max_digit:
            new_tight = tight and (digit == digits[pos])
            new_sum_mod = (sum_mod + digit) % K
            result += solve(pos + 1, new_tight, new_sum_mod)
        
        dp[pos][tight][sum_mod] = result
        return result
    
    return solve(0, 1, 0)

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
# –ù–∞–π—Ç–∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —á–∏—Å–µ–ª ‚â§ 1000, –≥–¥–µ —Å—É–º–º–∞ —Ü–∏—Ñ—Ä –¥–µ–ª–∏—Ç—Å—è –Ω–∞ 3
result = count_numbers_with_digit_sum(1000, 3)
```

**–ü—Ä–∏–º–µ—Ä —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∏ –¥–ª—è N = 135, K = 3:**

```mermaid
graph TD
    A["N=135<br/>–¶–∏—Ñ—Ä—ã: 1,3,5<br/>K=3"]
    
    A --> B["–ü–æ–∑–∏—Ü–∏—è 0 (—Ü–∏—Ñ—Ä–∞ 1)"]
    B --> B1["digit=0: pos=1, tight=0, sum=0%3=0"]
    B --> B2["digit=1: pos=1, tight=1, sum=1%3=1"]
    
    B2 --> C["–ü–æ–∑–∏—Ü–∏—è 1 (—Ü–∏—Ñ—Ä–∞ 3)"]
    C --> C1["digit=0..3"]
    C1 --> C1a["digit=0: sum=1%3=1"]
    C1 --> C1b["digit=1: sum=2%3=2"]
    C1 --> C1c["digit=2: sum=0%3=0 ‚úì"]
    C1 --> C1d["digit=3: sum=1%3=1"]
    
    style B2 fill:cyan
    style C1c fill:lime
```

---

## –ü—Ä–∏–º–µ—Ä 2: –ö—Ä–∞—Å–∏–≤—ã–µ —á–∏—Å–ª–∞ {id: "digit-beautiful-numbers"}

**–ó–∞–¥–∞—á–∞:** —á–∏—Å–ª–æ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è –∫—Ä–∞—Å–∏–≤—ã–º, –µ—Å–ª–∏ –æ–Ω–æ ‚â§ N –∏ –µ–≥–æ —Ü–∏—Ñ—Ä—ã –≤ —Å—Ç—Ä–æ–≥–æ –≤–æ–∑—Ä–∞—Å—Ç–∞—é—â–µ–º –ø–æ—Ä—è–¥–∫–µ.

**–ü—Ä–∏–º–µ—Ä—ã:**
- 123, 1234, 12345 ‚Äî –∫—Ä–∞—Å–∏–≤—ã–µ ‚úì
- 132, 1233, 100 ‚Äî –Ω–µ –∫—Ä–∞—Å–∏–≤—ã–µ ‚úó

**–ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è DP:**

```just-ncv
func count_beautiful_numbers(N: int64) -> int64:
    digits = extract_digits(N)
    n = len(digits)
    
    # dp[–ø–æ–∑–∏—Ü–∏—è][tight][–ø–æ—Å–ª–µ–¥–Ω—è—è_—Ü–∏—Ñ—Ä–∞]
    dp = –º–∞—Å—Å–∏–≤ (n) √ó (2) √ó (10) –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω -1
    
    func solve(pos: int32, tight: int32, last_digit: int32) -> int64:
        if pos == n:
            return 1
        
        if dp[pos][tight][last_digit] != -1:
            return dp[pos][tight][last_digit]
        
        max_digit = 9
        if tight == 1:
            max_digit = digits[pos]
        
        result = 0
        # –°–ª–µ–¥—É—é—â–∞—è —Ü–∏—Ñ—Ä–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –°–¢–†–û–ì–û –±–æ–ª—å—à–µ –ø—Ä–µ–¥—ã–¥—É—â–µ–π
        for digit in (last_digit + 1)..max_digit:
            new_tight = tight and (digit == digits[pos])
            result += solve(pos + 1, new_tight, digit)
        
        dp[pos][tight][last_digit] = result
        return result
    
    return solve(0, 1, 0)  # –ù–∞—á–∏–Ω–∞–µ–º —Å 0 –∫–∞–∫ –ø—Ä–µ–¥—ã–¥—É—â–µ–π —Ü–∏—Ñ—Ä—ã
```

---

## –õ–∏–¥–∏—Ä—É—é—â–∏–µ –Ω—É–ª–∏ –∏ —Ñ–ª–∞–≥ started {id: "digit-leading-zeros"}

–í–æ –º–Ω–æ–≥–∏—Ö –∑–∞–¥–∞—á–∞—Ö –Ω—É–∂–Ω–æ –æ—Ç–ª–∏—á–∞—Ç—å ¬´–º—ã —É–∂–µ –Ω–∞—á–∞–ª–∏ —á–∏—Å–ª–æ¬ª –æ—Ç ¬´–º—ã –≤—Å—ë –µ—â—ë —Å—Ç–∞–≤–∏–º –ª–∏–¥–∏—Ä—É—é—â–∏–µ –Ω—É–ª–∏¬ª. –≠—Ç–æ –≤–ª–∏—è–µ—Ç –Ω–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∑–∞–ø—Ä–µ—Ç—ã –Ω–∞ –ø–æ–¥—Ä—è–¥ –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ —Ü–∏—Ñ—Ä—ã –Ω–µ –¥–æ–ª–∂–Ω—ã —Å—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –¥–æ –Ω–∞—á–∞–ª–∞ —á–∏—Å–ª–∞).

–î–æ–±–∞–≤–∏–º —Ñ–ª–∞–≥ `started` (0/1) –∏ –æ–±—Ä–∞–±–æ—Ç–∫—É –≤–µ–¥—É—â–∏—Ö –Ω—É–ª–µ–π:

```just-ncv
func count_with_started(N: int64, K: int32) -> int64:
    digits = extract_digits(N)
    n = len(digits)
    # dp[pos][tight][started][mod]
    dp = –º–∞—Å—Å–∏–≤ (n) √ó 2 √ó 2 √ó K –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω -1

    func solve(pos: int32, tight: int32, started: int32, mod: int32) -> int64:
        if pos == n:
            # –ï—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –Ω–∞—á–∞–ª–∏, —Å—á–∏—Ç–∞–µ–º –ª–∏ –ø—É—Å—Ç–æ–µ —á–∏—Å–ª–æ? –û–±—ã—á–Ω–æ –Ω–µ—Ç ‚Üí 0
            return 1 if (started == 1 and mod == 0) else 0

        if dp[pos][tight][started][mod] != -1:
            return dp[pos][tight][started][mod]

        limit = digits[pos] if tight == 1 else 9
        res = 0
        for d in 0..limit:
            ntight = tight and (d == limit)
            if started == 0 and d == 0:
                # –ü—Ä–æ–¥–æ–ª–∂–∞–µ–º –ª–∏–¥–∏—Ä—É—é—â–∏–µ –Ω—É–ª–∏, —Å—É–º–º–∞/—Å–æ—Å—Ç–æ—è–Ω–∏—è –Ω–µ –º–µ–Ω—è—é—Ç—Å—è
                res += solve(pos+1, ntight, 0, mod)
            else:
                nmod = (mod + d) % K
                res += solve(pos+1, ntight, 1, nmod)

        dp[pos][tight][started][mod] = res
        return res

    return solve(0, 1, 0, 0)
```

---

## –ü—Ä–∏–º–µ—Ä 3: –ë–µ–∑ –ø–æ–¥—Ä—è–¥ –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö —Ü–∏—Ñ—Ä {id: "digit-no-adj-equal"}

–ü–æ—Å—á–∏—Ç–∞–µ–º —á–∏—Å–ª–∞ ‚â§ N –±–µ–∑ –ø–æ–¥—Ä—è–¥ –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö —Ü–∏—Ñ—Ä (–Ω–∞–ø—Ä–∏–º–µ—Ä, ¬´1223¬ª ‚Äî –Ω–µ–ª—å–∑—è –∏–∑-–∑–∞ ¬´22¬ª). –î–æ–±–∞–≤–∏–º –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–µ ¬´–ø–æ—Å–ª–µ–¥–Ω—é—é —Ü–∏—Ñ—Ä—É¬ª –∏ ¬´started¬ª:

```just-ncv
func count_no_adjacent_equals(N: int64) -> int64:
    digits = extract_digits(N)
    n = len(digits)
    # last ‚àà [-1..9] –∫–æ–¥–∏—Ä—É–µ–º 0..10, –≥–¥–µ 10 = "–µ—â—ë –Ω–µ –Ω–∞—á–∏–Ω–∞–ª–∏"
    NONE = 10
    dp = –º–∞—Å—Å–∏–≤ (n) √ó 2 √ó 2 √ó 11 –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω -1

    func solve(pos: int32, tight: int32, started: int32, last: int32) -> int64:
        if pos == n:
            return 1 if started == 1 else 0

        if dp[pos][tight][started][last] != -1:
            return dp[pos][tight][started][last]

        limit = digits[pos] if tight == 1 else 9
        res = 0
        for d in 0..limit:
            ntight = tight and (d == limit)
            if started == 0 and d == 0:
                res += solve(pos+1, ntight, 0, NONE)
            else:
                if started == 1 and last != NONE and d == last:
                    continue  # –∑–∞–ø—Ä–µ—â–∞–µ–º –ø–æ–¥—Ä—è–¥ –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ
                res += solve(pos+1, ntight, 1, d)

        dp[pos][tight][started][last] = res
        return res

    return solve(0, 1, 0, NONE)
```

```mermaid
graph LR
    A[–°—Ç–∞—Ä—Ç] --> B{started?}
    B -->|–Ω–µ—Ç| C[—Å—Ç–∞–≤–∏–º 0 ‚Üí –æ—Å—Ç–∞—ë–º—Å—è –Ω–µ –Ω–∞—á–∞–≤]
    B -->|–¥–∞| D["—Å—Ç–∞–≤–∏–º d ‚àà [1..9]"]
    D --> E{d == last?}
    E -->|–¥–∞| F[–∑–∞–ø—Ä–µ—â–µ–Ω–æ]
    E -->|–Ω–µ—Ç| G[ok ‚Üí last=d]

    style G fill:lime
    style F fill:red
```

### –¢–∏–ø–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏ –≤ Digit DP

```mermaid
graph LR
    A["‚ùå –û—à–∏–±–∫–∞"] --> B{–ö–∞–∫–∞—è?}
    
    B -->|–ó–∞–±—ã–ª–∏ tight —Ñ–ª–∞–≥| C["–ü–æ–∑–≤–æ–ª—è–µ—Ç–µ digit=10<br/>–∫–æ–≥–¥–∞ tight=1"]
    B -->|–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –±–∞–∑–æ–≤—ã–π —Å–ª—É—á–∞–π| D["–ù–µ —É—á–∏—Ç—ã–≤–∞–µ—Ç–µ —É—Å–ª–æ–≤–∏–µ<br/>–≤ –∫–æ–Ω—Ü–µ —Ä–µ–∫—É—Ä—Å–∏–∏"]
    B -->|–¶–∏—Ñ—Ä—ã –≤–≤–æ–¥–∏—Ç–µ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ| E["–ë–µ—Ä—ë—Ç–µ –ø–æ—Å–ª–µ–¥–Ω–∏–µ —Ü–∏—Ñ—Ä—ã<br/>–≤–º–µ—Å—Ç–æ —Å—Ç–∞—Ä—à–∏—Ö"]
    
    C --> F["‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:<br/>if tight: max_digit = N_digit"]
    D --> G["‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:<br/>if pos==n: return check_condition()"]
    E --> H["‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:<br/>digits = to_string(N)<br/>—á–∏—Ç–∞–π—Ç–µ —Å–ª–µ–≤–∞ –Ω–∞–ø—Ä–∞–≤–æ"]
    
    style F fill:lime
    style G fill:lime
    style H fill:lime
```

---

# DP –ø–æ –ø–æ–¥–º–Ω–æ–∂–µ—Å—Ç–≤–∞–º (Bitmask DP) {id: "bitmask-dp"}

## –û—Å–Ω–æ–≤—ã –±–∏—Ç–æ–≤—ã—Ö –º–∞—Å–æ–∫ {#bitmask-basics}

**–ë–∏—Ç–æ–≤–∞—è –º–∞—Å–∫–∞** ‚Äî –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–º–Ω–æ–∂–µ—Å—Ç–≤–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –æ–¥–Ω–∏–º —á–∏—Å–ª–æ–º, –≥–¥–µ –∫–∞–∂–¥—ã–π –±–∏—Ç = –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–Ω–æ—Å—Ç—å —ç–ª–µ–º–µ–Ω—Ç–∞.

**–ü—Ä–∏–º–µ—Ä—ã:**
- `mask = 0b101 = 5` ‚Üí —ç–ª–µ–º–µ–Ω—Ç—ã 0 –∏ 2 –≤—Ö–æ–¥—è—Ç
- `mask = 0b1111 = 15` ‚Üí –≤—Å–µ 4 —ç–ª–µ–º–µ–Ω—Ç–∞ (–ø—Ä–∏ 4 —ç–ª–µ–º–µ–Ω—Ç–∞—Ö)
- `mask & (1 << i) != 0` ‚Üí –ø—Ä–æ–≤–µ—Ä–∫–∞, –≤—Ö–æ–¥–∏—Ç –ª–∏ —ç–ª–µ–º–µ–Ω—Ç i

### –û–ø–µ—Ä–∞—Ü–∏–∏ —Å –º–∞—Å–∫–∞–º–∏ {#bitmask-operations}

| –û–ø–µ—Ä–∞—Ü–∏—è | –ö–æ–¥ | –ü–æ—è—Å–Ω–µ–Ω–∏–µ |
|----------|-----|----------|
| –î–æ–±–∞–≤–∏—Ç—å —ç–ª–µ–º–µ–Ω—Ç `i` | `mask \| (1 << i)` | –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –±–∏—Ç i –≤ 1 |
| –£–¥–∞–ª–∏—Ç—å —ç–ª–µ–º–µ–Ω—Ç `i` | `mask \& \sim(1 << i)` | –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –±–∏—Ç i –≤ 0 |
| –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —ç–ª–µ–º–µ–Ω—Ç `i` | `(mask >> i) \& 1` | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –±–∏—Ç i |
| –ü–µ—Ä–µ—á–∏—Å–ª–∏—Ç—å –ø–æ–¥–º–Ω–æ–∂–µ—Å—Ç–≤–∞ | `for sub in mask..1` | –ü–µ—Ä–µ—á–∏—Å–ª–∏—Ç—å –≤—Å–µ –ø–æ–¥–º–Ω–æ–∂–µ—Å—Ç–≤–∞ –º–∞—Å–∫–∏ |
| –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ | `__builtin_popcount(mask)` | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –µ–¥–∏–Ω–∏—á–Ω—ã—Ö –±–∏—Ç–æ–≤ |

```just-ncv
# –ü—Ä–∏–º–µ—Ä—ã –æ–ø–µ—Ä–∞—Ü–∏–π
mask = 0b1010  # –≠–ª–µ–º–µ–Ω—Ç—ã 1 –∏ 3

# –î–æ–±–∞–≤–∏—Ç—å —ç–ª–µ–º–µ–Ω—Ç 0
mask = mask | (1 << 0)  # mask = 0b1011

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —ç–ª–µ–º–µ–Ω—Ç 2
if (mask >> 2) & 1 == 1:
    print("–≠–ª–µ–º–µ–Ω—Ç 2 –≤—Ö–æ–¥–∏—Ç")
else:
    print("–≠–ª–µ–º–µ–Ω—Ç 2 –Ω–µ –≤—Ö–æ–¥–∏—Ç")

# –ü–µ—Ä–µ—á–∏—Å–ª–∏—Ç—å –≤—Å–µ –ø–æ–¥–º–Ω–æ–∂–µ—Å—Ç–≤–∞ –º–∞—Å–∫–∏
sub = mask
while sub > 0:
    # –û–±—Ä–∞–±–æ—Ç–∞—Ç—å –ø–æ–¥–º–Ω–æ–∂–µ—Å—Ç–≤–æ sub
    sub = (sub - 1) & mask
```

### –ü—Ä–∏–º–µ—Ä 1: –ó–∞–¥–∞—á–∞ –∫–æ–º–º–∏–≤–æ—è–∂–µ—Ä–∞ (TSP) —Å Bitmask {id: "bitmask-tsp"}

**–ó–∞–¥–∞—á–∞:** –ø–æ—Å–µ—Ç–∏—Ç—å –≤—Å–µ N –≥–æ—Ä–æ–¥–æ–≤ —Ä–æ–≤–Ω–æ –æ–¥–∏–Ω —Ä–∞–∑ —Å –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π —Å—Ç–æ–∏–º–æ—Å—Ç—å—é.

**–°–æ—Å—Ç–æ—è–Ω–∏–µ DP:**
- `dp[mask][i]` = –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å –ø—É—Ç–∏, –ø–æ—Å–µ—Ç–∏–≤ –≥–æ—Ä–æ–¥–∞ –∏–∑ –º–∞—Å–∫–∏, –∑–∞–∫–∞–Ω—á–∏–≤–∞—è –≤ –≥–æ—Ä–æ–¥–µ i

**–†–µ—à–µ–Ω–∏–µ:**

```just-ncv
func traveling_salesman_bitmask(dist: array<array>) -> int64:
    N = len(dist)
    INF = positive_infinity
    
    # dp[–ø–æ—Å–µ—â—ë–Ω–Ω—ã–µ –≥–æ—Ä–æ–¥–∞][–ø–æ—Å–ª–µ–¥–Ω–∏–π –≥–æ—Ä–æ–¥]
    dp = –º–∞—Å—Å–∏–≤ (1 << N) √ó N –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω INF
    
    dp[1][0] = 0  # –ù–∞—á–∏–Ω–∞–µ–º –≤ –≥–æ—Ä–æ–¥–µ 0, –ø–æ—Å–µ—Ç–∏–ª–∏ —Ç–æ–ª—å–∫–æ –µ–≥–æ
    
    for mask in 1..(1 << N):
        for i in 0..N-1:
            if dp[mask][i] == INF:
                continue
            if not (mask & (1 << i)):  # City i not in mask
                continue
            
            # –ü—Ä–æ–±—É–µ–º –∏–¥—Ç–∏ –≤ –≥–æ—Ä–æ–¥ j
            for j in 0..N-1:
                if mask & (1 << j) == 0:  # –ì–æ—Ä–æ–¥ j –Ω–µ –ø–æ—Å–µ—â–∞–ª–∏
                    new_mask = mask | (1 << j)
                    dp[new_mask][j] = min(dp[new_mask][j], 
                                          dp[mask][i] + dist[i][j])
    
    # –ò—â–µ–º –º–∏–Ω–∏–º—É–º —Å—Ä–µ–¥–∏ –≤—Å–µ—Ö –∑–∞–≤–µ—Ä—à–µ–Ω–∏–π (–≤–æ–∑–≤—Ä–∞—Ç –≤ –≥–æ—Ä–æ–¥ 0)
    all_visited = (1 << N) - 1
    result = INF
    for i in 1..N-1:
        result = min(result, dp[all_visited][i] + dist[i][0])
    
    return result

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
dist = [
    [0, 10, 15, 20],
    [10, 0, 35, 25],
    [15, 35, 0, 30],
    [20, 25, 30, 0]
]
result = traveling_salesman_bitmask(dist)
```

**–ü—Ä–∏–º–µ—Ä —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∏ –¥–ª—è 3 –≥–æ—Ä–æ–¥–æ–≤:**

```mermaid
graph TD
    A["mask=001<br/>dp[001][0]=0"] 
    
    A --> B["–ò–¥—ë–º –≤ –≥–æ—Ä–æ–¥ 1<br/>mask=011, cost=10"]
    A --> C["–ò–¥—ë–º –≤ –≥–æ—Ä–æ–¥ 2<br/>mask=101, cost=15"]
    
    B --> B1["–ò–∑ –≥–æ—Ä–æ–¥–∞ 1<br/>–ò–¥—ë–º –≤ –≥–æ—Ä–æ–¥ 2<br/>mask=111, cost=10+35=45"]
    
    C --> C1["–ò–∑ –≥–æ—Ä–æ–¥–∞ 2<br/>–ò–¥—ë–º –≤ –≥–æ—Ä–æ–¥ 1<br/>mask=111, cost=15+35=50"]
    
    B1 --> R["–í–æ–∑–≤—Ä–∞—â–∞–µ–º—Å—è<br/>Total: 45+20=65"]
    C1 --> R2["–í–æ–∑–≤—Ä–∞—â–∞–µ–º—Å—è<br/>Total: 50+10=60 ‚úì"]
    
    style A fill:cyan
    style R fill:orange
    style R2 fill:lime
```

---

## –ü—Ä–∏–º–µ—Ä 2: –û–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ –∑–∞–¥–∞—á {id: "bitmask-assignment"}

**–ó–∞–¥–∞—á–∞:** –µ—Å—Ç—å N —Ä–∞–±–æ—á–∏—Ö –∏ N –∑–∞–¥–∞—á. –ö–∞–∂–¥—ã–π —Ä–∞–±–æ—á–∏–π –º–æ–∂–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å –∫–∞–∂–¥—É—é –∑–∞–¥–∞—á—É –∑–∞ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–µ –≤—Ä–µ–º—è. –†–∞—Å–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∑–∞–¥–∞—á–∏ —Ç–∞–∫, —á—Ç–æ–±—ã –º–∏–Ω–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è.

**–°–æ—Å—Ç–æ—è–Ω–∏–µ:**
- `dp[worker][tasks_mask]` = –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è, –∫–æ–≥–¥–∞ —Ä–∞–±–æ—á–∏–µ 0..worker –≤—ã–ø–æ–ª–Ω–∏–ª–∏ –∑–∞–¥–∞—á–∏ –∏–∑ –º–∞—Å–∫–∏

```just-ncv
func min_max_assignment(time: array<array>) -> int64:
    N = len(time)
    INF = positive_infinity
    
    # dp[—Ä–∞–±–æ—á–∏–π][–≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏]
    dp = –º–∞—Å—Å–∏–≤ N √ó (1 << N) –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω INF
    
    # –ë–∞–∑–æ–≤—ã–π —Å–ª—É—á–∞–π: —Ä–∞–±–æ—á–∏–π 0 –≤—ã–ø–æ–ª–Ω—è–µ—Ç –æ–¥–Ω—É –∑–∞–¥–∞—á—É
    for task in 0..N-1:
        dp[0][1 << task] = time[0][task]
    
    for worker in 1..N-1:
        for tasks_mask in 0..(1 << N):
            if popcount(tasks_mask) != worker + 1:
                continue  # –î–æ–ª–∂–Ω–æ –±—ã—Ç—å —Ä–æ–≤–Ω–æ worker+1 –∑–∞–¥–∞—á
            
            # –ö–∞–∫—É—é –∑–∞–¥–∞—á—É –≤—ã–ø–æ–ª–Ω–∏–ª —ç—Ç–æ—Ç —Ä–∞–±–æ—á–∏–π?
            for task in 0..N-1:
                if tasks_mask & (1 << task):
                    prev_mask = tasks_mask ^ (1 << task)
                    if dp[worker-1][prev_mask] != INF:
                        max_time = max(dp[worker-1][prev_mask], time[worker][task])
                        dp[worker][tasks_mask] = min(dp[worker][tasks_mask], max_time)
    
    all_tasks = (1 << N) - 1
    return dp[N-1][all_tasks]
```

---

## –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è: –¢—Ä—é–∫ —Å –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏–µ–º –ø–æ–¥–º–Ω–æ–∂–µ—Å—Ç–≤ (Subset Enumeration Trick)  {id: "subset-enumeration-trick"}

–ß–∞—Å—Ç–æ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ—á–∏—Å–ª–∏—Ç—å –≤—Å–µ –ø–æ–¥–º–Ω–æ–∂–µ—Å—Ç–≤–∞ –º–∞—Å–∫–∏. –í–æ—Ç —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–π —Å–ø–æ—Å–æ–±:

```just-ncv
func enumerate_subsets(mask: int32):
    sub = mask
    while sub > 0:
        # –û–±—Ä–∞–±–æ—Ç–∞—Ç—å –ø–æ–¥–º–Ω–æ–∂–µ—Å—Ç–≤–æ sub
        print(sub)
        sub = (sub - 1) & mask  # –ü–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É –ø–æ–¥–º–Ω–æ–∂–µ—Å—Ç–≤—É
```

**–ü–æ—á–µ–º—É —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç?**
- `(sub - 1)` —É–º–µ–Ω—å—à–∞–µ—Ç —á–∏—Å–ª–æ, —Å–±—Ä–∞—Å—ã–≤–∞—è –º–ª–∞–¥—à–∏–π –±–∏—Ç –∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—è –±–∏—Ç—ã —Å–ø—Ä–∞–≤–∞
- `& mask` —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç "–ª–∏—à–Ω–∏–µ" –±–∏—Ç—ã, –æ—Å—Ç–∞–≤–ª—è—è —Ç–æ–ª—å–∫–æ –ø–æ–¥–º–Ω–æ–∂–µ—Å—Ç–≤–æ

**–ü—Ä–∏–º–µ—Ä –¥–ª—è mask = 0b1101 = 13:**

```
0b1101 (13)
0b1100 (12) 
0b1001 (9)
0b1000 (8)
0b0101 (5)
0b0100 (4)
0b0001 (1)
0b0000 (0) ‚Äî –≤—ã—Ö–æ–¥
```

---

## –ë—ã—Å—Ç—Ä—ã–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è: SOS DP / Zeta Transform (–±–∞–∑–∞) {id: "sos-dp"}

–ò–Ω–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –¥–ª—è –∫–∞–∂–¥–æ–π –º–∞—Å–∫–∏ `mask` –∑–Ω–∞—Ç—å —Å—É–º–º—É/–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ –≤—Å–µ–º –ø–æ–¥–º–Ω–æ–∂–µ—Å—Ç–≤–∞–º $sub ‚äÜ mask$. –≠—Ç–æ –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –∑–∞ $O(n \times 2^n)$ —Å –ø–æ–º–æ—â—å—é Zeta-–ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è.

**–ü—Ä–æ–±–ª–µ–º–∞:** –¥–∞–Ω –º–∞—Å—Å–∏–≤ `f[mask]` ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ ¬´—á–µ–≥–æ-—Ç–æ¬ª —Ä–æ–≤–Ω–æ –¥–ª—è –ø–æ–¥–º–Ω–æ–∂–µ—Å—Ç–≤–∞ `mask`. –•–æ—Ç–∏–º $\text{F[mask]} = \Sigma\ \text{f[sub]}$ –ø–æ –≤—Å–µ–º $sub ‚äÜ mask$.

–ù–∞–∏–≤–Ω—ã–π –ø–æ–¥—Ö–æ–¥: –¥–ª—è –∫–∞–∂–¥–æ–π –º–∞—Å–∫–∏ –ø–µ—Ä–µ–±–∏—Ä–∞–µ–º –≤—Å–µ –µ—ë –ø–æ–¥–º–Ω–æ–∂–µ—Å—Ç–≤–∞ (—Ç—Ä—é–∫ –∏–∑ —Ä–∞–∑–¥–µ–ª–∞ –≤—ã—à–µ) ‚Üí $O(3^n)$.

**–û–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ (Zeta Transform):**

–ò–¥–µ—è: –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –±–∏—Ç—ã –ø–æ –æ–¥–Ω–æ–º—É. –ù–∞ –∫–∞–∂–¥–æ–º —à–∞–≥–µ –¥–ª—è –±–∏—Ç–∞ `i`:
- –ï—Å–ª–∏ –≤ –º–∞—Å–∫–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –±–∏—Ç `i`, –¥–æ–±–∞–≤–ª—è–µ–º –≤–∫–ª–∞–¥ –≤–µ—Ä—Å–∏–∏ –º–∞—Å–∫–∏ –ë–ï–ó –±–∏—Ç–∞ `i`

```just-ncv
func sos_zeta(F: array<int64>, n: int32):
    # –ù–∞ –≤—Ö–æ–¥–µ: F = f (–∏—Å—Ö–æ–¥–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è)
    # –ù–∞ –≤—ã—Ö–æ–¥–µ: F[mask] = Œ£_{sub ‚äÜ mask} f[sub]
    for bit in 0..n-1:
        for mask in 0..(1<<n)-1:
            if (mask & (1<<bit)) != 0:  # –ï—Å–ª–∏ –±–∏—Ç —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
                # –î–æ–±–∞–≤–ª—è–µ–º –≤–∫–ª–∞–¥ –º–∞—Å–∫–∏ –±–µ–∑ —ç—Ç–æ–≥–æ –±–∏—Ç–∞
                F[mask] += F[mask ^ (1<<bit)]
                #        ‚Üë XOR —Å–±—Ä–æ—Å–∏—Ç –±–∏—Ç, –¥–∞–≤ –Ω–∞–º –º–∞—Å–∫—É-–±–µ–∑-–±–∏—Ç–∞
```

**–ü–æ—á–µ–º—É —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç? –ü–æ—à–∞–≥–æ–≤—ã–π –ø—Ä–∏–º–µ—Ä:**

```
n = 2, –º–∞—Å–∫–∏: 00, 01, 10, 11
–ò—Å—Ö–æ–¥–Ω–æ (f): f[00]=1, f[01]=2, f[10]=3, f[11]=4

–û–±—Ä–∞–±–æ—Ç–∫–∞ –±–∏—Ç–∞ 0 (–ø—Ä–∞–≤—ã–π –±–∏—Ç):
  - mask=00: –±–∏—Ç –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω, –ø—Ä–æ–ø—É—Å–∫–∞–µ–º
  - mask=01: –±–∏—Ç —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω ‚Üí F[01] += F[00] ‚Üí F[01] = 2+1 = 3
  - mask=10: –±–∏—Ç –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω, –ø—Ä–æ–ø—É—Å–∫–∞–µ–º
  - mask=11: –±–∏—Ç —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω ‚Üí F[11] += F[10] ‚Üí F[11] = 4+3 = 7
  –°–µ–π—á–∞—Å: F = [1, 3, 3, 7]
  (–ö–∞–∂–¥–∞—è –º–∞—Å–∫–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç —Å—É–º–º—É –ø–æ –ø–æ–¥–º–Ω–æ–∂–µ—Å—Ç–≤–∞–º, –æ—Ç–ª–∏—á–∞—é—â–∏–º—Å—è —Ç–æ–ª—å–∫–æ –±–∏—Ç–æ–º 0)

–û–±—Ä–∞–±–æ—Ç–∫–∞ –±–∏—Ç–∞ 1 (–ª–µ–≤—ã–π –±–∏—Ç):
  - mask=00: –±–∏—Ç –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω, –ø—Ä–æ–ø—É—Å–∫–∞–µ–º
  - mask=01: –±–∏—Ç –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω, –ø—Ä–æ–ø—É—Å–∫–∞–µ–º
  - mask=10: –±–∏—Ç —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω ‚Üí F[10] += F[00] ‚Üí F[10] = 3+1 = 4
  - mask=11: –±–∏—Ç —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω ‚Üí F[11] += F[01] ‚Üí F[11] = 7+3 = 10
  –§–∏–Ω–∞–ª—å–Ω–æ: F = [1, 3, 4, 10]

–ü—Ä–æ–≤–µ—Ä–∫–∞:
  - F[00] = f[00] = 1 ‚úì
  - F[01] = f[00] + f[01] = 1+2 = 3 ‚úì
  - F[10] = f[00] + f[10] = 1+3 = 4 ‚úì
  - F[11] = f[00] + f[01] + f[10] + f[11] = 1+2+3+4 = 10 ‚úì
```

–û–±—Ä–∞—Ç–Ω–æ–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ (Moebius) –≤—ã—á–∏—Ç–∞–µ—Ç –≤–º–µ—Å—Ç–æ —Å–ª–æ–∂–µ–Ω–∏—è.

**–ì–¥–µ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è:**
- –ü–æ–¥—Å—á—ë—Ç ¬´—Å–∫–æ–ª—å–∫–æ –Ω–∞–±–æ—Ä–æ–≤ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä—è—é—Ç —É—Å–ª–æ–≤–∏—è–º –∏–∑ –º–∞—Å–∫–∏¬ª –¥–ª—è –≤—Å–µ—Ö –º–∞—Å–æ–∫ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
- –ü—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–ª—è –∑–∞–¥–∞—á –ø–æ –±–∏—Ç–æ–≤—ã–º —Ñ–∏–ª—å—Ç—Ä–∞–º (–Ω–∞–ø—Ä–∏–º–µ—Ä, ¬´–Ω–∞–π—Ç–∏ –ø–æ–¥–º–Ω–æ–∂–µ—Å—Ç–≤–æ —Å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π —Å—É–º–º–æ–π, –≥–¥–µ –∫–∞–∂–¥—ã–π —ç–ª–µ–º–µ–Ω—Ç —Å–æ–≤–º–µ—Å—Ç–∏–º¬ª)
- –ü–æ–¥—Å—á—ë—Ç—ã ¬´–ø–æ –≤—Å–µ–º –ø–æ–¥–Ω–∞–±–æ—Ä–∞–º¬ª –±–µ–∑ –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö —Ü–∏–∫–ª–æ–≤

```mermaid
graph TD
    A["–ò—Å—Ö–æ–¥–Ω—ã–π f[mask]<br/>f[00]=1, f[01]=2, f[10]=3, f[11]=4"]
    B["–ë–∏—Ç 0: –¥–æ–±–∞–≤–ª—è–µ–º f[mask^(1<<0)]"]
    C["–ü–æ—Å–ª–µ –±–∏—Ç–∞ 0:<br/>F = [1, 3, 3, 7]"]
    D["–ë–∏—Ç 1: –¥–æ–±–∞–≤–ª—è–µ–º f[mask^(1<<1)]"]
    E["–ü–æ—Å–ª–µ –±–∏—Ç–∞ 1 (—Ñ–∏–Ω–∞–ª—å–Ω–æ):<br/>F[mask] = Œ£ sub‚äÜmask f[sub]"]

    A --> B
    B --> C
    C --> D
    D --> E

    style E fill:lime
```

---

# DP –ø–æ –ø—Ä–æ—Ñ–∏–ª—é (Profile DP) {id: "profile-dp"}

## –ö–æ–Ω—Ü–µ–ø—Ü–∏—è –ø—Ä–æ—Ñ–∏–ª—è {id: "profile-concept"}

**Profile DP** –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ –æ–±—ä–µ–∫—Ç–æ–≤ –ø–æ–æ—á–µ—Ä–µ–¥–Ω–æ (—á–∞—â–µ —Å–ª–µ–≤–∞ –Ω–∞–ø—Ä–∞–≤–æ –∏–ª–∏ —Å–≤–µ—Ä—Ö—É –≤–Ω–∏–∑) —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏ –Ω–∞ —Å–æ—Å–µ–¥–Ω–∏–µ –æ–±—ä–µ–∫—Ç—ã.

**–ü—Ä–æ—Ñ–∏–ª—å** ‚Äî —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≥—Ä–∞–Ω–∏—Ü—ã –º–µ–∂–¥—É –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω–æ–π –∏ –Ω–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω–æ–π —á–∞—Å—Ç—è–º–∏.

### –ü—Ä–∏–º–µ—Ä 1: –ú–æ—â–µ–Ω–∏–µ –¥–æ—Å–∫–∏ –ø–ª–∏—Ç–∫–∞–º–∏ {id: "profile-tiling"}

**–ó–∞–¥–∞—á–∞:** –∑–∞–º–æ—Å—Ç–∏—Ç—å –¥–æ—Å–∫—É —Ä–∞–∑–º–µ—Ä–æ–º $2 \times N$ –ø–ª–∏—Ç–∫–∞–º–∏ $1 \times 2$ (–≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–º–∏ –∏ –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–º–∏). –°–∫–æ–ª—å–∫–æ —Å–ø–æ—Å–æ–±–æ–≤?

**–ò–Ω—Ç—É–∏—Ü–∏—è:**
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –¥–æ—Å–∫—É —Å–ª–µ–≤–∞ –Ω–∞–ø—Ä–∞–≤–æ –∫–æ–ª–æ–Ω–∫–∞ –∑–∞ –∫–æ–ª–æ–Ω–∫–æ–π
- –ü—Ä–æ—Ñ–∏–ª—å = –∫–∞–∫–∏–µ –∫–ª–µ—Ç–∫–∏ –ø–æ—Å–ª–µ–¥–Ω–µ–π –∫–æ–ª–æ–Ω–∫–∏ —É–∂–µ –∑–∞–ø–æ–ª–Ω–µ–Ω—ã
- –ü—Ä–æ—Ñ–∏–ª—å –º–æ–∂–Ω–æ –∫–æ–¥–∏—Ä–æ–≤–∞—Ç—å –æ–¥–Ω–∏–º –±–∏—Ç–æ–º (2 —Å–æ—Å—Ç–æ—è–Ω–∏—è –Ω–∞ –∫–æ–ª–æ–Ω–∫—É)

**–°–æ—Å—Ç–æ—è–Ω–∏–µ DP:**
- `dp[i][profile]` = –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–ø–æ—Å–æ–±–æ–≤ –∑–∞–º–æ—Å—Ç–∏—Ç—å –ø–µ—Ä–≤—ã–µ i –∫–æ–ª–æ–Ω–æ–∫ —Ç–∞–∫, —á—Ç–æ–±—ã –ø—Ä–æ—Ñ–∏–ª—å = profile
- profile –º–æ–∂–µ—Ç –±—ã—Ç—å 0 (–æ–±–∞ —Å–≤–æ–±–æ–¥–Ω—ã), 1 (–≤–µ—Ä—Ö–Ω–∏–π –∑–∞–Ω—è—Ç), 2 (–Ω–∏–∂–Ω–∏–π –∑–∞–Ω—è—Ç), 3 (–æ–±–∞ –∑–∞–Ω—è—Ç)

```just-ncv
func count_tilings(N: int32) -> int64:
    # dp[–∫–æ–ª–æ–Ω–∫–∞][–ø—Ä–æ—Ñ–∏–ª—å]
    # –ø—Ä–æ—Ñ–∏–ª—å: –±–∏—Ç 0 = –≤–µ—Ä—Ö–Ω–∏–π, –±–∏—Ç 1 = –Ω–∏–∂–Ω–∏–π
    dp = –º–∞—Å—Å–∏–≤ (N + 1) √ó (4) –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω 0
    
    dp[0][0] = 1  # –í –Ω–∞—á–∞–ª–µ –≤—Å—ë —Å–≤–æ–±–æ–¥–Ω–æ
    
    func fill_column(col: int32, cur_profile: int32, next_profile: int32, 
                     row: int32) -> int64:
        # –ó–∞–ø–æ–ª–Ω—è–µ–º –∫–æ–ª–æ–Ω–∫—É col –Ω–∞—á–∏–Ω–∞—è —Å row
        # cur_profile = –∫–∞–∫–∏–µ –∫–ª–µ—Ç–∫–∏ —É–∂–µ –æ–±—Ä–∞–±–æ—Ç–∞–Ω—ã –≤ —ç—Ç–æ–π –∫–æ–ª–æ–Ω–∫–µ
        # next_profile = –∫–∞–∫–∏–µ –∫–ª–µ—Ç–∫–∏ –≤–ª–∏—è—é—Ç –Ω–∞ —Å–ª–µ–¥—É—é—â—É—é –∫–æ–ª–æ–Ω–∫—É
        
        if row == 2:
            # –ó–∞–∫–æ–Ω—á–∏–ª–∏ —Å —ç—Ç–æ–π –∫–æ–ª–æ–Ω–∫–æ–π
            return dp[col][next_profile]
        
        if (cur_profile >> row) & 1:
            # –≠—Ç–∞ –∫–ª–µ—Ç–∫–∞ —É–∂–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–∞
            return fill_column(col, cur_profile, next_profile, row + 1)
        
        result = 0
        
        # –í–∞—Ä–∏–∞–Ω—Ç 1: –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–∞—è –ø–ª–∏—Ç–∫–∞ (–∑–∞–ø–æ–ª–Ω—è–µ—Ç —Ç–µ–∫—É—â—É—é –∏ —Å–ª–µ–¥—É—é—â—É—é –≤ —ç—Ç–æ–º row)
        if row + 1 < 2 and not ((cur_profile >> (row + 1)) & 1):
            # –û–±–∞ –º–µ—Å—Ç–∞ —Å–≤–æ–±–æ–¥–Ω—ã ‚Äî –∫–ª–∞–¥—ë–º –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—É—é
            new_cur = cur_profile | (1 << row) | (1 << (row + 1))
            result += fill_column(col, new_cur, next_profile, row + 2)
        
        # –í–∞—Ä–∏–∞–Ω—Ç 2: –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–∞—è –ø–ª–∏—Ç–∫–∞ (–∑–∞–ø–æ–ª–Ω—è–µ—Ç —Ç–µ–∫—É—â—É—é –∏ —Å–ª–µ–¥—É—é—â—É—é –∫–æ–ª–æ–Ω–∫—É)
        new_next = next_profile | (1 << row)
        result += fill_column(col, cur_profile | (1 << row), new_next, row + 1)
        
        return result
    
    for col in 0..N-1:
        for profile in 0..3:
            if dp[col][profile] > 0:
                dp[col + 1][fill_column(col, 0, 0, 0)] += dp[col][profile]
    
    return dp[N][0]
```

---

## –ü—Ä–∏–º–µ—Ä 2: –ù–µ–∑–∞–≤–∏—Å–∏–º—ã–µ –º–Ω–æ–∂–µ—Å—Ç–≤–∞ –Ω–∞ —Ä–µ—à—ë—Ç–∫–µ 2√óN {id: "profile-indep-sets"}

**–ó–∞–¥–∞—á–∞:** —Å–∫–æ–ª—å–∫–æ —Å–ø–æ—Å–æ–±–æ–≤ –≤—ã–±—Ä–∞—Ç—å –∫–ª–µ—Ç–∫–∏ –Ω–∞ –¥–æ—Å–∫–µ 2√óN —Ç–∞–∫, —á—Ç–æ–±—ã –Ω–∏–∫–∞–∫–∏–µ –¥–≤–µ –≤—ã–±—Ä–∞–Ω–Ω—ã–µ –Ω–µ –±—ã–ª–∏ —Å–æ—Å–µ–¥—è–º–∏ –ø–æ —Å—Ç–æ—Ä–æ–Ω–µ?

**–ü—Ä–∏–º–µ—Ä –¥–ª—è 2√ó3:**
- ‚úì –º–æ–∂–µ–º –≤—ã–±—Ä–∞—Ç—å: (1,1) –∏ (1,3) ‚Äî –æ–Ω–∏ –Ω–µ —Å–æ—Å–µ–¥–∏
- ‚úó –Ω–µ–ª—å–∑—è –≤—ã–±—Ä–∞—Ç—å: (1,1) –∏ (1,2) ‚Äî —Å–æ—Å–µ–¥–∏ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ
- ‚úó –Ω–µ–ª—å–∑—è –≤—ã–±—Ä–∞—Ç—å: (1,1) –∏ (2,1) ‚Äî —Å–æ—Å–µ–¥–∏ –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ

**–ò–¥–µ—è Profile DP:**
–ü—Ä–æ—Ñ–∏–ª—å –∫–æ–ª–æ–Ω–∫–∏ –∫–æ–¥–∏—Ä—É–µ—Ç, –∫–∞–∫–∏–µ –∫–ª–µ—Ç–∫–∏ –≤—ã–±—Ä–∞–Ω—ã –≤ —ç—Ç–æ–π –∫–æ–ª–æ–Ω–∫–µ:
- –ü—Ä–æ—Ñ–∏–ª—å 0 = "00" (–Ω–∏—á–µ–≥–æ –Ω–µ –≤—ã–±—Ä–∞–Ω–æ)
- –ü—Ä–æ—Ñ–∏–ª—å 1 = "01" (–≤—ã–±—Ä–∞–Ω –≤–µ—Ä—Ö)
- –ü—Ä–æ—Ñ–∏–ª—å 2 = "10" (–≤—ã–±—Ä–∞–Ω –Ω–∏–∑)
- –ü—Ä–æ—Ñ–∏–ª—å 3 = "11" (–æ–±–∞ –≤—ã–±—Ä–∞–Ω—ã) ‚Äî **–ó–ê–ü–†–ï–©–ï–ù–û**, —Ç.–∫. –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–µ —Å–æ—Å–µ–¥–∏!

**–ü—Ä–∞–≤–∏–ª–∞ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ –º–µ–∂–¥—É –∫–æ–ª–æ–Ω–∫–∞–º–∏:**
–ï—Å–ª–∏ —Ç–µ–∫—É—â–∞—è –∫–æ–ª–æ–Ω–∫–∞ –∏–º–µ–µ—Ç –ø—Ä–æ—Ñ–∏–ª—å `p`, —Ç–æ —Å–ª–µ–¥—É—é—â–∞—è –º–æ–∂–µ—Ç –∏–º–µ—Ç—å –ø—Ä–æ—Ñ–∏–ª—å `q` —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏:
- p = 0 (–Ω–∏—á–µ–≥–æ): –º–æ–∂–µ—Ç –∏–¥—Ç–∏ 0, 1, 2 (–Ω–µ 3)
- p = 1 (–≤–µ—Ä—Ö –≤—ã–±—Ä–∞–Ω): –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å 1 –∏–ª–∏ 3 ‚Üí —Ç–æ–ª—å–∫–æ 0, 2
- p = 2 (–Ω–∏–∑ –≤—ã–±—Ä–∞–Ω): –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å 2 –∏–ª–∏ 3 ‚Üí —Ç–æ–ª—å–∫–æ 0, 1
- p = 3: –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

**–ö–æ–¥ –∏ –º–∞—Ç—Ä–∏—Ü–∞ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤:**

```just-ncv
func count_independent_sets_2xN(N: int32) -> int64:
    PROFILES = [0, 1, 2]  # –ò—Å–∫–ª—é—á–∞–µ–º 3
    dp = –º–∞—Å—Å–∏–≤ (N+1) √ó (4) –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω 0
    dp[0][0] = 1  # –ù–∞—á–∏–Ω–∞–µ–º —Å –ø—É—Å—Ç–æ–π –∫–æ–ª–æ–Ω–∫–∏

    func compatible(p: int32, q: int32) -> bool:
        # –ó–∞–ø—Ä–µ—â–µ–Ω—ã –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–µ —Å–æ—Å–µ–¥–∏ –≤–Ω—É—Ç—Ä–∏ –∫–æ–ª–æ–Ω–∫–∏ (–Ω–æ —ç—Ç–æ —É–∂–µ –∏—Å–∫–ª—é—á–µ–Ω–æ)
        # –ó–∞–ø—Ä–µ—â–µ–Ω—ã –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–µ —Å–æ—Å–µ–¥–∏ (–æ–¥–Ω–∞ –∏ —Ç–∞ –∂–µ –ø–æ–∑–∏—Ü–∏—è –≤ —Å–æ—Å–µ–¥–Ω–∏—Ö –∫–æ–ª–æ–Ω–∫–∞—Ö)
        if p == 1 and q == 1: return false  # –û–±–∞ –≤—ã–±—Ä–∞–ª–∏ –≤–µ—Ä—Ö
        if p == 2 and q == 2: return false  # –û–±–∞ –≤—ã–±—Ä–∞–ª–∏ –Ω–∏–∑
        return true

    for col in 1..N:
        for p in PROFILES:
            for q in PROFILES:
                if compatible(p, q):
                    dp[col][q] += dp[col-1][p]

    # –°—É–º–º–∏—Ä—É–µ–º –≤—Å–µ —Ñ–∏–Ω–∞–ª—å–Ω—ã–µ –ø—Ä–æ—Ñ–∏–ª–∏
    return dp[N][0] + dp[N][1] + dp[N][2]
```

**–ú–∞—Ç—Ä–∏—Ü–∞ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ (–≤–∏–∑—É–∞–ª—å–Ω–æ):**

```mermaid
graph LR
    P0["p=0<br/>(–Ω–∏—á–µ–≥–æ)"] -->|‚úì| Q0["q=0"]
    P0 -->|‚úì| Q1["q=1<br/>(–≤–µ—Ä—Ö)"]
    P0 -->|‚úì| Q2["q=2<br/>(–Ω–∏–∑)"]
    
    P1["p=1<br/>(–≤–µ—Ä—Ö)"] -->|‚úì| Q0_2["q=0"]
    P1 -. ‚úó –∑–∞–ø—Ä–µ—Ç .-> Q1_2["q=1"]
    P1 -->|‚úì| Q2_2["q=2"]
    
    P2["p=2<br/>(–Ω–∏–∑)"] -->|‚úì| Q0_3["q=0"]
    P2 -->|‚úì| Q1_3["q=1"]
    P2 -. ‚úó –∑–∞–ø—Ä–µ—Ç .-> Q2_3["q=2"]

    style Q0 fill:lime
    style Q1 fill:lime
    style Q2 fill:lime
    style Q0_2 fill:lime
    style Q2_2 fill:lime
    style Q0_3 fill:lime
    style Q1_3 fill:lime
```

**–ü—Ä–∏–º–µ—Ä –¥–ª—è N=2:** F(2) = ?
- –ö–æ–ª–æ–Ω–∫–∞ 0: –≤—ã–±–∏—Ä–∞–µ–º –ø—Ä–æ—Ñ–∏–ª—å 0 ‚Üí dp[1] = [1, 1, 1]
  - –ò–∑ 0 –∏–¥—ë–º –≤ 0, 1, 2: —É–≤–µ–ª–∏—á–∏–≤–∞–µ–º dp[1][0], dp[1][1], dp[1][2]
- –ö–æ–ª–æ–Ω–∫–∞ 1: –æ—Ç dp[1] = [1, 1, 1]
  - –û—Ç p=0: –º–æ–∂–µ–º –≤ q=0, 1, 2 ‚Üí —É–≤–µ–ª–∏—á–∏–≤–∞–µ–º dp[2][*] –Ω–∞ 1
  - –û—Ç p=1: –º–æ–∂–µ–º –≤ q=0, 2 ‚Üí —É–≤–µ–ª–∏—á–∏–≤–∞–µ–º dp[2][0] –∏ dp[2][2] –Ω–∞ 1
  - –û—Ç p=2: –º–æ–∂–µ–º –≤ q=0, 1 ‚Üí —É–≤–µ–ª–∏—á–∏–≤–∞–µ–º dp[2][0] –∏ dp[2][1] –Ω–∞ 1
  - –ò—Ç–æ–≥: dp[2] = [3, 2, 2]
- –û—Ç–≤–µ—Ç: dp[2][0] + dp[2][1] + dp[2][2] = 3 + 2 + 2 = 7

---

## –ü—Ä–∏–º–µ—Ä 3: –†–∞—Å–∫—Ä–∞—Å–∫–∏ 2√óN –≤ 2 —Ü–≤–µ—Ç–∞ –±–µ–∑ –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö —Å–æ—Å–µ–¥–µ–π {id: "profile-coloring"}

–ö–∞–∂–¥—É—é –∫–ª–µ—Ç–∫—É –∫—Ä–∞—Å–∏–º –≤ —á—ë—Ä–Ω—ã–π (0) / –±–µ–ª—ã–π (1), –∑–∞–ø—Ä–µ—â–∞—è —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ –ø–æ —Å—Ç–æ—Ä–æ–Ω–µ. –ü—Ä–æ—Ñ–∏–ª—å –∫–æ–ª–æ–Ω–∫–∏ ‚Äî –ø–∞—Ä–∞ –±–∏—Ç (—Ü–≤–µ—Ç–∞ –≤ –≤–µ—Ä—Ö–Ω–µ–π –∏ –Ω–∏–∂–Ω–µ–π –∫–ª–µ—Ç–∫–µ).

**–†–∞–∑—Ä–µ—à—ë–Ω–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã:**
- –ï—Å–ª–∏ –≤ –∫–æ–ª–æ–Ω–∫–µ i –ø—Ä–æ—Ñ–∏–ª—å (–≤–µ—Ä—Ö, –Ω–∏–∑), —Ç–æ –≤ –∫–æ–ª–æ–Ω–∫–µ i+1 –ø—Ä–æ—Ñ–∏–ª—å (–≤–µ—Ä—Ö', –Ω–∏–∑') —Ä–∞–∑—Ä–µ—à–µ–Ω –µ—Å–ª–∏:
  - –≤–µ—Ä—Ö ‚â† –≤–µ—Ä—Ö' (–≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–µ —Å–æ—Å–µ–¥–∏ –ø–æ –≤–µ—Ä—Ö–Ω–µ–π —Å—Ç—Ä–æ–∫–µ)
  - –Ω–∏–∑ ‚â† –Ω–∏–∑' (–≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–µ —Å–æ—Å–µ–¥–∏ –ø–æ –Ω–∏–∂–Ω–µ–π —Å—Ç—Ä–æ–∫–µ)
  - –í–Ω—É—Ç—Ä–∏ –æ–¥–Ω–æ–π –∫–æ–ª–æ–Ω–∫–∏ –≤–µ—Ä—Ö ‚â† –Ω–∏–∑ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è (–æ–Ω–∏ –Ω–µ —Å–æ—Å–µ–¥–∏)

```just-ncv
func count_colorings_2xN(N: int32) -> int64:
    # dp[col][profile] –≥–¥–µ profile ‚àà {00, 01, 10, 11}
    # –±–∏—Ç 0 = —Ü–≤–µ—Ç –≤–µ—Ä—Ö–Ω–µ–π –∫–ª–µ—Ç–∫–∏, –±–∏—Ç 1 = —Ü–≤–µ—Ç –Ω–∏–∂–Ω–µ–π
    dp = –º–∞—Å—Å–∏–≤ (N+1) √ó (4) –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω 0
    dp[0][0] = 1  # –ù–∞—á–∏–Ω–∞–µ–º —Å (0,0)
    
    func compatible(prev_prof: int32, next_prof: int32) -> bool:
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–µ—Ç –ª–∏ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π –ø–æ –≤–µ—Ä—Ç–∏–∫–∞–ª–∏
        prev_top = (prev_prof >> 0) & 1
        prev_bot = (prev_prof >> 1) & 1
        next_top = (next_prof >> 0) & 1
        next_bot = (next_prof >> 1) & 1
        
        return (prev_top != next_top) and (prev_bot != next_bot)
    
    for col in 1..N:
        for prev_prof in 0..3:
            for next_prof in 0..3:
                if compatible(prev_prof, next_prof):
                    dp[col][next_prof] += dp[col-1][prev_prof]
    
    # –°—É–º–º–∏—Ä—É–µ–º –≤—Å–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ —Ñ–∏–Ω–∞–ª—å–Ω—ã–µ –ø—Ä–æ—Ñ–∏–ª–∏
    return dp[N][0] + dp[N][1] + dp[N][2] + dp[N][3]
```

**–ü—Ä–∏–º–µ—Ä –¥–ª—è N=2:**

```mermaid
graph LR
    A["–ö–æ–ª–æ–Ω–∫–∞ 0<br/>–ü—Ä–æ—Ñ–∏–ª–∏: 00,01,10,11"]
    B["–ü–µ—Ä–µ—Ö–æ–¥–∏–º –≤ –∫–æ–ª–æ–Ω–∫—É 1"]
    
    P00["00"] -.->|–∑–∞–ø—Ä–µ—Ç| Q00["00"]
    P00 -->|‚úì| Q01["01"]
    P00 -->|‚úì| Q10["10"]
    P00 -.->|–∑–∞–ø—Ä–µ—Ç| Q11["11"]
    
    P01["01"] -->|‚úì| Q00_2["00"]
    P01 -.->|–∑–∞–ø—Ä–µ—Ç| Q01_2["01"]
    P01 -.->|–∑–∞–ø—Ä–µ—Ç| Q10_2["10"]
    P01 -->|‚úì| Q11_2["11"]
    
    style Q01 fill:lime
    style Q10 fill:lime
    style Q00_2 fill:lime
    style Q11_2 fill:lime
```

–†–µ–∑—É–ª—å—Ç–∞—Ç: –ª–∏–Ω–µ–π–Ω–∞—è —Ä–µ–∫—É—Ä—Ä–µ–Ω—Ü–∏—è —Å –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–∞–º–∏. –ü—Ä–∏ N‚Üí‚àû, —Ç–µ–º–ø —Ä–æ—Å—Ç–∞ –ø—Ä–∏–º–µ—Ä–Ω–æ Fibonacci-–ø–æ–¥–æ–±–Ω—ã–π.

---

# –ì–∏–±—Ä–∏–¥–Ω—ã–µ DP {id: "hybrid-dp"}

–ò–Ω–æ–≥–¥–∞ —É–¥–æ–±–Ω–æ —Å–æ—á–µ—Ç–∞—Ç—å —Ç–µ—Ö–Ω–∏–∫–∏, —á—Ç–æ–±—ã —É–º–µ—Å—Ç–∏—Ç—å—Å—è –≤–æ –≤—Ä–µ–º—è/–ø–∞–º—è—Ç—å.

## –ü—Ä–∏–º–µ—Ä A: Digit DP + –º–æ–¥—ã (–Ω–µ—Å–∫–æ–ª—å–∫–æ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π) {id: "hybrid-digit-mods"}

**–ó–∞–¥–∞—á–∞:** —Å—á–∏—Ç–∞–µ–º —á–∏—Å–ª–∞ ‚â§ N, —É –∫–æ—Ç–æ—Ä—ã—Ö —Å—É–º–º–∞ —Ü–∏—Ñ—Ä –¥–µ–ª–∏—Ç—Å—è –Ω–∞ K –ò —á–∏—Å–ª–æ —Å–∞–º–æ –¥–µ–ª–∏—Ç—Å—è –Ω–∞ M.

**–ò–¥–µ—è:** —Ö—Ä–∞–Ω–∏–º –¥–≤–∞ –æ—Å—Ç–∞—Ç–∫–∞ –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏: (`sum_mod_K`, `value_mod_M`).

```just-ncv
func count_with_two_conditions(N: int64, K: int32, M: int32) -> int64:
    digits = extract_digits(N)
    n = len(digits)
    # dp[pos][tight][sum_mod][value_mod]
    dp = –º–∞—Å—Å–∏–≤ (n) √ó (2) √ó (K) √ó (M) –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω -1
    
    func solve(pos: int32, tight: int32, sum_mod: int32, value_mod: int32) -> int64:
        if pos == n:
            return 1 if (sum_mod == 0 and value_mod == 0) else 0
        
        if dp[pos][tight][sum_mod][value_mod] != -1:
            return dp[pos][tight][sum_mod][value_mod]
        
        limit = digits[pos] if tight == 1 else 9
        res = 0
        for d in 0..limit:
            ntight = tight and (d == limit)
            new_sum = (sum_mod + d) % K
            new_value = (value_mod * 10 + d) % M
            res += solve(pos+1, ntight, new_sum, new_value)
        
        dp[pos][tight][sum_mod][value_mod] = res
        return res
    
    return solve(0, 1, 0, 0)
```

**–°–ª–æ–∂–Ω–æ—Å—Ç—å:** O(log‚ÇÅ‚ÇÄ(N) √ó 2 √ó K √ó M √ó 10) = O(log N √ó K √ó M)

---

## –ü—Ä–∏–º–µ—Ä B: Bitmask DP + Meet-in-the-middle {id: "hybrid-bitmask-mitm"}

**–ó–∞–¥–∞—á–∞:** –µ—Å–ª–∏ N ‚âà 30‚Äì40 (–¥–∞–∂–µ N=25 –º–æ–∂–µ—Ç –±—ã—Ç—å 2^25 = 33M —Å–æ—Å—Ç–æ—è–Ω–∏–π), —á–∏—Å—Ç–æ–µ `O(2^N)` —Ç—è–∂–µ–ª–æ.

**–ò–¥–µ—è:**
1. –î–µ–ª–∏–º –º–Ω–æ–∂–µ—Å—Ç–≤–æ –ø–æ–ø–æ–ª–∞–º: –ª–µ–≤–∞—è –ø–æ–ª–æ–≤–∏–Ω–∞ (—ç–ª–µ–º–µ–Ω—Ç—ã 0..n/2-1) –∏ –ø—Ä–∞–≤–∞—è (n/2..n-1)
2. –î–ª—è –ª–µ–≤–æ–π –ø–æ–ª–æ–≤–∏–Ω—ã —Å—á–∏—Ç–∞–µ–º –≤—Å–µ –º–∞—Å–∫–∏ –∏ –∏—Ö –∑–Ω–∞—á–µ–Ω–∏—è (O(2^(n/2)))
3. –î–ª—è –ø—Ä–∞–≤–æ–π –ø–æ–ª–æ–≤–∏–Ω—ã —Å—á–∏—Ç–∞–µ–º –≤—Å–µ –º–∞—Å–∫–∏ –∏ –∏—Ö –∑–Ω–∞—á–µ–Ω–∏—è (O(2^(n/2)))
4. –î–ª—è –∫–∞–∂–¥–æ–π –º–∞—Å–∫–∏ —Å–ø—Ä–∞–≤–∞ –∏—â–µ–º –ø–æ–¥—Ö–æ–¥—è—â–∏–µ –º–∞—Å–∫–∏ —Å–ª–µ–≤–∞ (–æ–±—ã—á–Ω–æ —á–µ—Ä–µ–∑ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É/–¥–≤–æ–∏—á–Ω—ã–π –ø–æ–∏—Å–∫)

```just-ncv
func solve_with_mitm(n: int32, values: array) -> result:
    # –†–∞–∑–±–∏–≤–∞–µ–º –Ω–∞ –¥–≤–µ –ø–æ–ª–æ–≤–∏–Ω—ã
    left_size = n / 2
    right_size = n - left_size
    
    # –®–∞–≥ 1: –í—ã—á–∏—Å–ª—è–µ–º –≤—Å–µ –º–∞—Å–∫–∏ –ª–µ–≤–æ–π –ø–æ–ª–æ–≤–∏–Ω—ã
    left_results = map  # mask ‚Üí value
    for mask in 0..(1 << left_size):
        value = compute_value(mask, values[0..left_size-1])
        left_results[mask] = value
    
    # –®–∞–≥ 2: –í—ã—á–∏—Å–ª—è–µ–º –º–∞—Å–∫–∏ –ø—Ä–∞–≤–æ–π –ø–æ–ª–æ–≤–∏–Ω—ã –∏ –∏—â–µ–º –≤ –ª–µ–≤—ã—Ö
    best = negative_infinity
    for right_mask in 0..(1 << right_size):
        right_value = compute_value(right_mask, values[left_size..n-1])
        
        # –ò—â–µ–º –≤ left_results –ø–æ–¥—Ö–æ–¥—è—â—É—é –º–∞—Å–∫—É
        # (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å —Å—É–º–º–æ–π ‚â• –∫–∞–∫–æ–≥–æ-—Ç–æ –∑–Ω–∞—á–µ–Ω–∏—è)
        for left_mask, left_value in left_results:
            if is_compatible(left_value, right_value):
                best = max(best, combine(left_value, right_value))
    
    return best
```

**–°–ª–æ–∂–Ω–æ—Å—Ç—å:** O(2^(n/2) + 2^(n/2) √ó log(2^(n/2))) = O(2^(n/2) √ó n/2)  
–î–ª—è n=40: O(2^20 √ó 20) ‚âà 20M –æ–ø–µ—Ä–∞—Ü–∏–π –≤–º–µ—Å—Ç–æ 2^40 –æ–ø–µ—Ä–∞—Ü–∏–π!

---

## –ü—Ä–∏–º–µ—Ä C: Profile DP + Bitmask –¥–ª—è —É–∑–∫–æ–π –¥–æ—Å–∫–∏ {id: "hybrid-profile-bitmask"}

**–ó–∞–¥–∞—á–∞:** –∑–∞–ø–æ–ª–Ω–∏—Ç—å –¥–æ—Å–∫—É 3√óN —Ñ–∏–≥—É—Ä–∞–º–∏, –Ω–æ –Ω–∞–º –Ω—É–∂–Ω–æ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –Ω–µ —Ç–æ–ª—å–∫–æ –ø—Ä–æ—Ñ–∏–ª—å –∫–æ–ª–æ–Ω–∫–∏, –Ω–æ –∏ –∫–∞–∫–∏–µ ¬´—Ü–≤–µ—Ç–∞¬ª —É–∂–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏—Å—å.

**–ò–¥–µ—è:** –ø—Ä–æ—Ñ–∏–ª—å = (–≤–µ—Ä—Ö, —Å–µ—Ä–µ–¥–∏–Ω–∞, –Ω–∏–∑) + –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –±–∏—Ç-–º–∞—Å–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã—Ö —Ü–≤–µ—Ç–æ–≤.

```just-ncv
func fill_board_with_colors(N: int32, num_colors: int32) -> int64:
    # –î–ª—è 3√óN: –ø—Ä–æ—Ñ–∏–ª—å –º–æ–∂–µ—Ç –±—ã—Ç—å 3 –±–∏—Ç–∞ (8 –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤)
    # –î–æ–±–∞–≤–∏–º –º–∞—Å–∫—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã—Ö —Ü–≤–µ—Ç–æ–≤ (2^num_colors –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤)
    
    # dp[col][profile][colors_used_mask]
    dp = –º–∞—Å—Å–∏–≤ (N+1) √ó (8) √ó (1 << num_colors) –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω 0
    
    dp[0][0][0] = 1  # –ù–∞—á–∏–Ω–∞–µ–º —Å –ø—É—Å—Ç–æ–π –¥–æ—Å–∫–∏, –Ω–∏—á–µ–≥–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ
    
    for col in 0..N-1:
        for profile in 0..7:
            for colors_mask in 0..(1 << num_colors):
                if dp[col][profile][colors_mask] == 0:
                    continue
                
                # –ü—Ä–æ–±—É–µ–º —Ä–∞—Å–∫—Ä–∞—Å–∏—Ç—å —Ç–µ–∫—É—â—É—é –∫–æ–ª–æ–Ω–∫—É
                for next_profile in 0..7:
                    if compatible_profile(profile, next_profile):
                        # –û–ø—Ä–µ–¥–µ–ª—è–µ–º –∫–∞–∫–∏–µ —Ü–≤–µ—Ç–∞ –±—É–¥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω—ã
                        new_colors_mask = colors_mask
                        for bit in 0..2:
                            if (next_profile >> bit) & 1:
                                new_colors_mask |= (1 << some_color)
                        
                        dp[col+1][next_profile][new_colors_mask] += dp[col][profile][colors_mask]
    
    return sum(dp[N][any_profile][any_colors_mask])
```

**–°–ª–æ–∂–Ω–æ—Å—Ç—å:** O(N √ó 8 √ó 2^num_colors √ó 8) –¥–ª—è –ø–µ—Ä–µ—Ö–æ–¥–æ–≤.

---

# –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Å–æ–≤–µ—Ç—ã –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ {id: "practical-tips"}

## 1. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø–∞–º—è—Ç–∏ –≤ Digit DP

**–ü—Ä–æ–±–ª–µ–º–∞:** –¥–ª—è –±–æ–ª—å—à–∏—Ö N –∏ –±–æ–ª—å—à–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–π –ø–∞–º—è—Ç—å –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ–π.

**–†–µ—à–µ–Ω–∏–µ:** –∏—Å–ø–æ–ª—å–∑—É–µ–º rolling array (—Ç–æ–ª—å–∫–æ —Ç–µ–∫—É—â–∞—è –ø–æ–∑–∏—Ü–∏—è):

```just-ncv
func digit_dp_optimized(N: int64, K: int32):
    digits = extract_digits(N)
    n = len(digits)
    
    # –í–º–µ—Å—Ç–æ dp[n][2][K], –∏—Å–ø–æ–ª—å–∑—É–µ–º dp[2][K]
    prev = –º–∞—Å—Å–∏–≤ (2) √ó (K) –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω 0
    curr = –º–∞—Å—Å–∏–≤ (2) √ó (K) –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω 0
    
    prev[1][0] = 1  # –ù–∞—á–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
    
    for pos in 0..n-1:
        for tight in 0..1:
            for sum_mod in 0..K-1:
                curr[tight][sum_mod] = 0
        
        for tight in 0..1:
            for sum_mod in 0..K-1:
                max_digit = 9
                if tight == 1:
                    max_digit = digits[pos]
                
                for digit in 0..max_digit:
                    new_tight = tight and (digit == digits[pos])
                    new_sum_mod = (sum_mod + digit) % K
                    curr[new_tight][new_sum_mod] += prev[tight][sum_mod]
        
        prev, curr = curr, prev
    
    return prev[0][0] + prev[1][0]
```

---

## 2. Subset Enumeration –¥–ª—è –±–æ–ª—å—à–∏—Ö N

**–ü—Ä–æ–±–ª–µ–º–∞:** –µ—Å–ª–∏ N –≤–µ–ª–∏–∫–æ (>20), Bitmask DP –Ω–µ–≤–æ–∑–º–æ–∂–µ–Ω.

**–†–µ—à–µ–Ω–∏–µ:** –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥—Ä—É–≥–∏–µ —Ç–µ—Ö–Ω–∏–∫–∏:
- **Meet-in-the-middle:** —Ä–∞–∑–¥–µ–ª–∏—Ç–µ –Ω–∞ –¥–≤–µ —á–∞—Å—Ç–∏, –æ–±—Ä–∞–±–æ—Ç–∞–π—Ç–µ –æ—Ç–¥–µ–ª—å–Ω–æ
- **–†–∞–∑–ª–∏—á–Ω—ã–µ —Ç–∏–ø—ã DP:** –µ—Å–ª–∏ —ç—Ç–æ –≥—Ä–∞—Ñ, –º–æ–∂–µ—Ç –±—ã—Ç—å –∞–ª–≥–æ—Ä–∏—Ç–º –§–ª–æ–π–¥–∞-–£–æ—Ä—à–µ–ª–ª–∞ –±—ã—Å—Ç—Ä–µ–µ

---

## 3. –û—Ç–ª–∞–¥–∫–∞ Profile DP

**–°–æ–≤–µ—Ç:** –≤—ã–≤–µ–¥–∏—Ç–µ –≤—Å–µ –ø–µ—Ä–µ—Ö–æ–¥—ã –ø—Ä–æ—Ñ–∏–ª–µ–π:

```just-ncv
func debug_profile_dp():
    for cur_profile in 0..max_profile:
        print(f"–¢–µ–∫—É—â–∏–π –ø—Ä–æ—Ñ–∏–ª—å: {bin(cur_profile)}")
        for action in 0..num_actions:
            next_profile = transition(cur_profile, action)
            print(f"  –î–µ–π—Å—Ç–≤–∏–µ {action} ‚Üí {bin(next_profile)}")
```

---

## 4. –ß–µ–∫-–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ —Å–¥–∞—á–µ–π —Ä–µ—à–µ–Ω–∏—è {id: "pre-submit-checklist"}

- –°–æ—Å—Ç–æ—è–Ω–∏–µ DP –º–∏–Ω–∏–º–∞–ª—å–Ω–æ? –£–±–µ—Ä–∏—Ç–µ –ª–∏—à–Ω–∏–µ –∏–∑–º–µ—Ä–µ–Ω–∏—è (—á–∞—Å—Ç–æ –ø–æ–º–æ–≥–∞–µ—Ç `started` –¥–ª—è Digit DP).
- –ë–∞–∑–æ–≤—ã–µ —Å–ª—É—á–∞–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã? –ö–æ–Ω–µ—á–Ω—ã–µ —É—Å–ª–æ–≤–∏—è –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –∏–º–µ–Ω–Ω–æ —Ç–æ, —á—Ç–æ –Ω—É–∂–Ω–æ.
- –ü–æ—Ä—è–¥–æ–∫ –æ–±—Ö–æ–¥–∞ –≤–µ—Ä–Ω—ã–π? 0-1 —Ä—é–∫–∑–∞–∫ ‚Äî —Å–ø—Ä–∞–≤–∞ –Ω–∞–ª–µ–≤–æ; –ø—Ä–æ—Ñ–∏–ª–∏ ‚Äî –ø–æ –∫–æ–ª–æ–Ω–∫–∞–º; bitmask ‚Äî –ø–æ —Ä–∞–∑–º–µ—Ä—É –º–∞—Å–∫–∏.
- –ù–µ—Ç –ª–∏ –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–π? –î–ª—è –ø–æ–¥—Å—á—ë—Ç–∞ —Å–ø–æ—Å–æ–±–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ 64-–±–∏—Ç–Ω—ã–µ —Ü–µ–ª—ã–µ –∏/–∏–ª–∏ –º–æ–¥—É–ª—å.
- –î–æ–±–∞–≤–∏–ª–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç–∞, –µ—Å–ª–∏ —ç—Ç–æ —Ç—Ä–µ–±—É–µ—Ç—Å—è –∑–∞–¥–∞—á–µ–π?

---

# FAQ (—á–∞—Å—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã) {id: "faq"}

1) –ü–æ—á–µ–º—É –º–æ–π Digit DP —Å—á–∏—Ç–∞–µ—Ç ¬´–ø—É—Å—Ç–æ–µ¬ª —á–∏—Å–ª–æ?  
‚Äî –î–æ–±–∞–≤—å—Ç–µ `started` –∏ –≤ –±–∞–∑–æ–≤–æ–º —Å–ª—É—á–∞–µ –≤–æ–∑–≤—Ä–∞—â–∞–π—Ç–µ 0, –µ—Å–ª–∏ `started == 0`.

2) –ü–æ—á–µ–º—É Bitmask DP —Å–ª–∏—à–∫–æ–º –º–µ–¥–ª–µ–Ω–Ω—ã–π –Ω–∞ N=25?  
‚Äî –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –Ω–µ –¥–µ–ª–∞–µ—Ç–µ –ª–∏ –≤–ª–æ–∂–µ–Ω–Ω—ã–π –ø–µ—Ä–µ–±–æ—Ä –º–∞—Å–æ–∫ –±–µ–∑ —Ç—Ä—é–∫–∞ –ø–æ–¥–º–∞—Å–æ–∫. –ü–æ–¥—É–º–∞–π—Ç–µ –ø—Ä–æ meet-in-the-middle.

3) –ö–∞–∫ –æ—Ç–ª–∞–∂–∏–≤–∞—Ç—å Profile DP?  
‚Äî –ù–∞–ø–µ—á–∞—Ç–∞–π—Ç–µ –≤—Å–µ –¥–æ–ø—É—Å—Ç–∏–º—ã–µ –ø—Ä–æ—Ñ–∏–ª–∏ –∏ —Ç–∞–±–ª–∏—Ü—É —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞ N=1..4 —Ä—É–∫–∞–º–∏.

---

# –õ–µ—Å—Ç–Ω–∏—Ü–∞ –ø—Ä–∞–∫—Ç–∏–∫–∏ (–ø–æ –≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏—é —Å–ª–æ–∂–Ω–æ—Å—Ç–∏) {id: "practice-ladder"}

1. Digit DP: —Å—É–º–º–∞ —Ü–∏—Ñ—Ä –ø–æ –º–æ–¥—É–ª—é K  
2. Digit DP: –±–µ–∑ –ø–æ–¥—Ä—è–¥ –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö —Ü–∏—Ñ—Ä  
3. Bitmask DP: –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ –∑–∞–¥–∞—á  
4. Bitmask DP: –∫–æ–º–º–∏–≤–æ—è–∂—ë—Ä –¥–ª—è N‚â§15  
5. SOS DP: Œ£ –ø–æ –ø–æ–¥–º–Ω–æ–∂–µ—Å—Ç–≤–∞—Ö  
6. Profile DP: –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–µ –º–Ω–æ–∂–µ—Å—Ç–≤–∞ 2√óN  
7. Profile DP: —Ä–∞—Å–∫—Ä–∞—Å–∫–∏ 2√óN –≤ 2 —Ü–≤–µ—Ç–∞  
8. –ì–∏–±—Ä–∏–¥: Digit DP + –¥–≤–∞ –º–æ–¥—É–ª—è  
9. –ì–∏–±—Ä–∏–¥: Meet-in-the-middle + Bitmask DP

---

# –ó–∞–∫–ª—é—á–µ–Ω–∏–µ –∏ –¥–∞–ª—å–Ω–µ–π—à–∏–π –ø—É—Ç—å {id: "conclusion"}

## –ß—Ç–æ –≤—ã —Ç–µ–ø–µ—Ä—å –∑–Ω–∞–µ—Ç–µ {id: "what-you-know"}

‚úÖ **Digit DP:** –ø–æ–¥—Å—á—ë—Ç —á–∏—Å–µ–ª —Å —É—Å–ª–æ–≤–∏—è–º–∏  
‚úÖ **Bitmask DP:** –∑–∞–¥–∞—á–∏ —Å –ø–æ–¥–º–Ω–æ–∂–µ—Å—Ç–≤–∞–º–∏  
‚úÖ **Profile DP:** —Å–ª–æ–∂–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è  

## –ö–æ–≥–¥–∞ –∫–∞–∫—É—é –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å? {id: "which-dp-to-use"}

```mermaid
graph TD
    A["–ö–∞–∫–∞—è –∑–∞–¥–∞—á–∞?"]
    
    A -->|–ü–æ—Å—á–∏—Ç–∞—Ç—å —á–∏—Å–ª–∞<br/>—Å —É—Å–ª–æ–≤–∏—è–º–∏| B["Digit DP<br/>–°–ª–æ–∂–Ω–æ—Å—Ç—å: O(log N * states)"]
    A -->|–ó–∞–¥–∞—á–∏ –Ω–∞<br/>–ø–æ–¥–º–Ω–æ–∂–µ—Å—Ç–≤–∞—Ö| C["Bitmask DP<br/>–°–ª–æ–∂–Ω–æ—Å—Ç—å: O(2^N * N)"]
    A -->|–ú–æ—â–µ–Ω–∏–µ/–†–∞—Å–∫—Ä–∞—Å–∫–∏<br/>–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –Ω–∞ —Ä—ë–±—Ä–∞| D["Profile DP<br/>–°–ª–æ–∂–Ω–æ—Å—Ç—å: O(N * profiles¬≤)"]
    
    style B fill:lime
    style C fill:lime
    style D fill:lime
```

---

## –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞—á–∏ –¥–ª—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ {id: "practice-problems"}

### Digit DP {id: "practice-digit-dp"}
1. –°–∫–æ–ª—å–∫–æ —á–∏—Å–µ–ª –æ—Ç 1 –¥–æ N —Å–æ–¥–µ—Ä–∂–∞—Ç —Ä–æ–≤–Ω–æ K —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ü–∏—Ñ—Ä?
2. –ù–∞–π—Ç–∏ —Å—É–º–º—É –≤—Å–µ—Ö —á–∏—Å–µ–ª ‚â§ N, –≥–¥–µ —Ü–∏—Ñ—Ä—ã —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω—ã –≤ –≤–æ–∑—Ä–∞—Å—Ç–∞—é—â–µ–º –ø–æ—Ä—è–¥–∫–µ
3. –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —á–∏—Å–µ–ª ‚â§ N –±–µ–∑ –Ω—É–ª–µ–π, –≥–¥–µ –∫–∞–∂–¥–∞—è —Ü–∏—Ñ—Ä–∞ > –ø—Ä–µ–¥—ã–¥—É—â–µ–π

### Bitmask DP {id: "practice-bitmask-dp"}
1. –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ–µ –º–Ω–æ–∂–µ—Å—Ç–≤–æ –≤ –≥—Ä–∞—Ñ–µ (N ‚â§ 20)
2. –†–∞—Å–∫—Ä–∞—Å–∫–∞ –≥—Ä–∞—Ñ–∞ –≤ K —Ü–≤–µ—Ç–æ–≤ (–º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ K)
3. –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ –≤ –¥–≤—É–¥–æ–ª—å–Ω–æ–º –≥—Ä–∞—Ñ–µ

### Profile DP {id: "practice-profile-dp"}
1. –ú–æ—â–µ–Ω–∏–µ –¥–æ—Å–∫–∏ –ø–ª–∏—Ç–∫–∞–º–∏ L-–æ–±—Ä–∞–∑–Ω—ã–º–∏
2. –†–∞—Å—Å—Ç–∞–Ω–æ–≤–∫–∞ –ª–∞–¥–µ–π –Ω–∞ —à–∞—Ö–º–∞—Ç–Ω–æ–π –¥–æ—Å–∫–µ —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏
3. –ü–æ–¥—Å—á—ë—Ç —Å–ø–æ—Å–æ–±–æ–≤ —Ä–∞—Å—Å—Ç–∞–≤–∏—Ç—å –Ω–µ –±—å—é—â–∏–µ –¥—Ä—É–≥ –¥—Ä—É–≥–∞ —Ñ–∏–≥—É—Ä—ã

---

## –°–ª–µ–¥—É—é—â–∏–µ —É—Ä–æ–≤–Ω–∏ {id: "next-level-techniques"}

- **Convex Hull Trick:** –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è DP O(N¬≤) ‚Üí O(N log N)
- **Divide and Conquer Optimization:** –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã—Ö DP
- **DP –Ω–∞ –≥—Ä–∞—Ñ–∞—Ö:** –ë–µ–ª–ª–º–∞–Ω-–§–æ—Ä–¥, SPFA –¥–ª—è –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã—Ö –≥—Ä–∞—Ñ–æ–≤
- **Linear Recurrence Solving:** –º–∞—Ç—Ä–∏—á–Ω–æ–µ –≤–æ–∑–≤–µ–¥–µ–Ω–∏–µ –≤ —Å—Ç–µ–ø–µ–Ω—å

---

$\text{–û—Ç —É—á–µ–Ω–∏–∫–∞ –¥–ª—è —É—á–µ–Ω–∏–∫–æ–≤.}\\ \text{\textcolor{red}{–° –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–º–∏} —Ç–µ—Ö–Ω–∏–∫–∞–º–∏ –¥–ª—è \textcolor{yellow}{–¢-–û–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è}.}\\ \textcolor{cyan}{–í–∞–¥–∏–º\ –•—Ä–∏—Å—Ç–µ–Ω–∫–æ.}$
